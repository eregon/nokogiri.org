<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Nokogiri::HTML4::Document
  
    — Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css">

  <link rel="stylesheet" href="../../css/common.css" type="text/css">

<script type="text/javascript">
  pathId = "Nokogiri::HTML4::Document";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


      <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1260604-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-1260604-8');
    </script>
</head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (D)</a> »
    <span class="title"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span> » <span class="title"><span class="object_link"><a href="../HTML4.html" title="Nokogiri::HTML4 (module)">HTML4</a></span></span>
     » 
    <span class="title">Document</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link" href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content">
<h1 id="Class%3A+Nokogiri%3A%3AHTML4%3A%3ADocument">Class: Nokogiri::HTML4::Document
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class="object_link"><a href="../XML/Document.html" title="Nokogiri::XML::Document (class)">XML::Document</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class="object_link"><a href="../XML/Node.html" title="Nokogiri::XML::Node (class)">XML::Node</a></span></li>
          
            <li class="next"><span class="object_link"><a href="../XML/Document.html" title="Nokogiri::XML::Document (class)">XML::Document</a></span></li>
          
            <li class="next">Nokogiri::HTML4::Document</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/nokogiri/html4/document.rb<span class="defines">,<br>
  ext/nokogiri/html4_document.c</span>
</dd>
  </dl>
  
</div>

<h2 id="Overview">Overview</h2>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<div id="subclasses">
  <h2 id="Direct+Known+Subclasses">Direct Known Subclasses</h2>
  <p class="children"><span class="object_link"><a href="../HTML5/Document.html" title="Nokogiri::HTML5::Document (class)">Nokogiri::HTML5::Document</a></span></p>
</div>
<h2 id="Defined+Under+Namespace">Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class="object_link"><a href="Document/EncodingFound.html" title="Nokogiri::HTML4::Document::EncodingFound (class)">EncodingFound</a></span>, <span class="object_link"><a href="Document/EncodingReader.html" title="Nokogiri::HTML4::Document::EncodingReader (class)">EncodingReader</a></span>
    
  
</p>







  
    <h2 id="Class+Method+Summary">
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a new document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse-class_method" title="parse (class method)">.<strong>parse</strong>(string_or_io, url = nil, encoding = nil, options = XML::ParseOptions::DEFAULT_HTML) {|options| ... } ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Parse HTML.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_io-class_method" title="read_io (class method)">.<strong>read_io</strong>(io, url, encoding, options)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Read the HTML document from <code>io</code> with given <code>url</code>, <code>encoding</code>, and <code>options</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_memory-class_method" title="read_memory (class method)">.<strong>read_memory</strong>(string, url, encoding, options)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Read the HTML document contained in <code>string</code> with given <code>url</code>, <code>encoding</code>, and <code>options</code>.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Instance+Method+Summary">
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fragment-instance_method" title="#fragment (instance method)">#<strong>fragment</strong>(tags = nil)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a Nokogiri::XML::DocumentFragment from <code>tags</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#meta_encoding-instance_method" title="#meta_encoding (instance method)">#<strong>meta_encoding</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the meta tag encoding for this document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#meta_encoding=-instance_method" title="#meta_encoding= (instance method)">#<strong>meta_encoding=</strong>(encoding)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Set the meta tag encoding for this document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#serialize-instance_method" title="#serialize (instance method)">#<strong>serialize</strong>(options = {})  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Serialize Node using <code>options</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#title-instance_method" title="#title (instance method)">#<strong>title</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the title string of this document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#title=-instance_method" title="#title= (instance method)">#<strong>title=</strong>(text)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Set the title string of this document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#type-instance_method" title="#type (instance method)">#<strong>type</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>The type for this document.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2 id="Constructor+Details">Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class="object_link"><a href="../XML/Document.html#initialize-instance_method" title="Nokogiri::XML::Document#initialize (method)">Nokogiri::XML::Document</a></span></p>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2 id="Class+Method+Details">Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="new-class_method">
  
    .<strong>new</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a new document</p>


  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/html4_document.c', line 14</span>

static VALUE
rb_html_document_s_new(int argc, VALUE *argv, VALUE klass)
{
  VALUE uri, external_id, rest, rb_doc;
  htmlDocPtr doc;

  rb_scan_args(argc, argv, "0*", &amp;rest);
  uri = rb_ary_entry(rest, (long)0);
  external_id = rb_ary_entry(rest, (long)1);

  doc = htmlNewDoc(
          RTEST(uri) ? (const xmlChar *)StringValueCStr(uri) : NULL,
          RTEST(external_id) ? (const xmlChar *)StringValueCStr(external_id) : NULL
        );
  rb_doc = noko_xml_document_wrap_with_init_args(klass, doc, argc, argv);
  return rb_doc ;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse-class_method">
  
    .<strong>parse</strong>(string_or_io, url = nil, encoding = nil, options = XML::ParseOptions::DEFAULT_HTML) {|options| ... } ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parse HTML.  <code>string_or_io</code> may be a String, or any object that responds to <em>read</em> and <em>close</em> such as an IO, or StringIO. <code>url</code> is resource where this document is located.  <code>encoding</code> is the encoding that should be used when processing the document. <code>options</code> is a number that sets options in the parser, such as Nokogiri::XML::ParseOptions::RECOVER.  See the constants in Nokogiri::XML::ParseOptions.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class="type">(<tt>options</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html4/document.rb', line 166</span>

<span class="kw">def</span> <span class="id identifier rubyid_parse">parse</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="comma">,</span> <span class="id identifier rubyid_url">url</span> <span class="op">=</span> <span class="kw">nil</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span> <span class="op">=</span> <span class="kw">nil</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML/ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)">ParseOptions</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML/ParseOptions.html#DEFAULT_HTML-constant" title="Nokogiri::XML::ParseOptions::DEFAULT_HTML (constant)">DEFAULT_HTML</a></span></span>
  <span class="id identifier rubyid_options">options</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML/ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)">ParseOptions</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="../XML/ParseOptions.html#initialize-instance_method" title="Nokogiri::XML::ParseOptions#initialize (method)">new</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_options">options</span><span class="rparen">)</span> <span class="kw">if</span> <span class="const">Integer</span> <span class="op">===</span> <span class="id identifier rubyid_options">options</span>

  <span class="kw">yield</span> <span class="id identifier rubyid_options">options</span> <span class="kw">if</span> <span class="id identifier rubyid_block_given?">block_given?</span>

  <span class="id identifier rubyid_url">url</span> <span class="op">||=</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_respond_to?">respond_to?</span><span class="lparen">(</span><span class="symbol">:path</span><span class="rparen">)</span> <span class="op">?</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_path">path</span> <span class="op">:</span> <span class="kw">nil</span>

  <span class="kw">if</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_respond_to?">respond_to?</span><span class="lparen">(</span><span class="symbol">:encoding</span><span class="rparen">)</span>
    <span class="kw">unless</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_encoding">encoding</span><span class="period">.</span><span class="id identifier rubyid_name">name</span> <span class="op">==</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">ASCII-8BIT</span><span class="tstring_end">"</span></span>
      <span class="id identifier rubyid_encoding">encoding</span> <span class="op">||=</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_encoding">encoding</span><span class="period">.</span><span class="id identifier rubyid_name">name</span>
    <span class="kw">end</span>
  <span class="kw">end</span>

  <span class="kw">if</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_respond_to?">respond_to?</span><span class="lparen">(</span><span class="symbol">:read</span><span class="rparen">)</span>
    <span class="kw">if</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="const">Pathname</span><span class="rparen">)</span>
      <span class="comment"># resolve the Pathname to the file and open it as an IO object, see #2110
</span>      <span class="id identifier rubyid_string_or_io">string_or_io</span> <span class="op">=</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_expand_path">expand_path</span><span class="period">.</span><span class="id identifier rubyid_open">open</span>
      <span class="id identifier rubyid_url">url</span> <span class="op">||=</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_path">path</span>
    <span class="kw">end</span>

    <span class="kw">unless</span> <span class="id identifier rubyid_encoding">encoding</span>
      <span class="comment"># Libxml2's parser has poor support for encoding
</span>      <span class="comment"># detection.  First, it does not recognize the HTML5
</span>      <span class="comment"># style meta charset declaration.  Secondly, even if it
</span>      <span class="comment"># successfully detects an encoding hint, it does not
</span>      <span class="comment"># re-decode or re-parse the preceding part which may be
</span>      <span class="comment"># garbled.
</span>      <span class="comment">#
</span>      <span class="comment"># EncodingReader aims to perform advanced encoding
</span>      <span class="comment"># detection beyond what Libxml2 does, and to emulate
</span>      <span class="comment"># rewinding of a stream and make Libxml2 redo parsing
</span>      <span class="comment"># from the start when an encoding hint is found.
</span>      <span class="id identifier rubyid_string_or_io">string_or_io</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="Document/EncodingReader.html" title="Nokogiri::HTML4::Document::EncodingReader (class)">EncodingReader</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#new-class_method" title="Nokogiri::HTML4::Document.new (method)">new</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_string_or_io">string_or_io</span><span class="rparen">)</span>
      <span class="kw">begin</span>
        <span class="kw">return</span> <span class="id identifier rubyid_read_io">read_io</span><span class="lparen">(</span><span class="id identifier rubyid_string_or_io">string_or_io</span><span class="comma">,</span> <span class="id identifier rubyid_url">url</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="period">.</span><span class="id identifier rubyid_to_i">to_i</span><span class="rparen">)</span>
      <span class="kw">rescue</span> <span class="const"><span class="object_link"><a href="Document/EncodingFound.html" title="Nokogiri::HTML4::Document::EncodingFound (class)">EncodingFound</a></span></span> <span class="op">=&gt;</span> <span class="id identifier rubyid_e">e</span>
        <span class="id identifier rubyid_encoding">encoding</span> <span class="op">=</span> <span class="id identifier rubyid_e">e</span><span class="period">.</span><span class="id identifier rubyid_found_encoding">found_encoding</span>
      <span class="kw">end</span>
    <span class="kw">end</span>
    <span class="kw">return</span> <span class="id identifier rubyid_read_io">read_io</span><span class="lparen">(</span><span class="id identifier rubyid_string_or_io">string_or_io</span><span class="comma">,</span> <span class="id identifier rubyid_url">url</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="period">.</span><span class="id identifier rubyid_to_i">to_i</span><span class="rparen">)</span>
  <span class="kw">end</span>

  <span class="comment"># read_memory pukes on empty docs
</span>  <span class="kw">if</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_nil?">nil?</span> <span class="kw">or</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_empty?">empty?</span>
    <span class="kw">return</span> <span class="id identifier rubyid_encoding">encoding</span> <span class="op">?</span> <span class="id identifier rubyid_new">new</span><span class="period">.</span><span class="id identifier rubyid_tap">tap</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_i">i</span><span class="op">|</span> <span class="id identifier rubyid_i">i</span><span class="period">.</span><span class="id identifier rubyid_encoding">encoding</span> <span class="op">=</span> <span class="id identifier rubyid_encoding">encoding</span> <span class="rbrace">}</span> <span class="op">:</span> <span class="id identifier rubyid_new">new</span>
  <span class="kw">end</span>

  <span class="id identifier rubyid_encoding">encoding</span> <span class="op">||=</span> <span class="const"><span class="object_link"><a href="Document/EncodingReader.html" title="Nokogiri::HTML4::Document::EncodingReader (class)">EncodingReader</a></span></span><span class="period">.</span><span class="id identifier rubyid_detect_encoding"><span class="object_link"><a href="Document/EncodingReader.html#detect_encoding-class_method" title="Nokogiri::HTML4::Document::EncodingReader.detect_encoding (method)">detect_encoding</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_string_or_io">string_or_io</span><span class="rparen">)</span>

  <span class="id identifier rubyid_read_memory">read_memory</span><span class="lparen">(</span><span class="id identifier rubyid_string_or_io">string_or_io</span><span class="comma">,</span> <span class="id identifier rubyid_url">url</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="period">.</span><span class="id identifier rubyid_to_i">to_i</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_io-class_method">
  
    .<strong>read_io</strong>(io, url, encoding, options)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Read the HTML document from <code>io</code> with given <code>url</code>, <code>encoding</code>, and <code>options</code>.  See Nokogiri::HTML4.parse</p>


  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/html4_document.c', line 39</span>

static VALUE
rb_html_document_s_read_io(VALUE klass, VALUE rb_io, VALUE rb_url, VALUE rb_encoding, VALUE rb_options)
{
  VALUE rb_doc;
  VALUE rb_error_list = rb_ary_new();
  htmlDocPtr c_doc;
  const char *c_url = NIL_P(rb_url) ? NULL : StringValueCStr(rb_url);
  const char *c_encoding = NIL_P(rb_encoding) ? NULL : StringValueCStr(rb_encoding);
  int options = NUM2INT(rb_options);

  xmlSetStructuredErrorFunc((void *)rb_error_list, Nokogiri_error_array_pusher);

  c_doc = htmlReadIO(noko_io_read, noko_io_close, (void *)rb_io, c_url, c_encoding, options);

  xmlSetStructuredErrorFunc(NULL, NULL);

  /*
   * If EncodingFound has occurred in EncodingReader, make sure to do
   * a cleanup and propagate the error.
   */
  if (rb_respond_to(rb_io, id_encoding_found)) {
    VALUE encoding_found = rb_funcall(rb_io, id_encoding_found, 0);
    if (!NIL_P(encoding_found)) {
      xmlFreeDoc(c_doc);
      rb_exc_raise(encoding_found);
    }
  }

  if ((c_doc == NULL) || (!(options &amp; XML_PARSE_RECOVER) &amp;&amp; (RARRAY_LEN(rb_error_list) &gt; 0))) {
    VALUE rb_error ;

    xmlFreeDoc(c_doc);

    rb_error = rb_ary_entry(rb_error_list, 0);
    if (rb_error == Qnil) {
      rb_raise(rb_eRuntimeError, "Could not parse document");
    } else {
      VALUE exception_message = rb_funcall(rb_error, id_to_s, 0);
      exception_message = rb_str_concat(rb_str_new2("Parser without recover option encountered error or warning: "),
                                        exception_message);
      rb_exc_raise(rb_class_new_instance(1, &amp;exception_message, cNokogiriXmlSyntaxError));
    }

    return Qnil;
  }

  rb_doc = noko_xml_document_wrap(klass, c_doc);
  rb_iv_set(rb_doc, "@errors", rb_error_list);
  return rb_doc;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_memory-class_method">
  
    .<strong>read_memory</strong>(string, url, encoding, options)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Read the HTML document contained in <code>string</code> with given <code>url</code>, <code>encoding</code>, and <code>options</code>.  See Nokogiri::HTML4.parse</p>


  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/html4_document.c', line 97</span>

static VALUE
rb_html_document_s_read_memory(VALUE klass, VALUE rb_html, VALUE rb_url, VALUE rb_encoding, VALUE rb_options)
{
  VALUE rb_doc;
  VALUE rb_error_list = rb_ary_new();
  htmlDocPtr c_doc;
  const char *c_buffer = StringValuePtr(rb_html);
  const char *c_url = NIL_P(rb_url) ? NULL : StringValueCStr(rb_url);
  const char *c_encoding = NIL_P(rb_encoding) ? NULL : StringValueCStr(rb_encoding);
  int html_len = (int)RSTRING_LEN(rb_html);
  int options = NUM2INT(rb_options);

  xmlSetStructuredErrorFunc((void *)rb_error_list, Nokogiri_error_array_pusher);

  c_doc = htmlReadMemory(c_buffer, html_len, c_url, c_encoding, options);

  xmlSetStructuredErrorFunc(NULL, NULL);

  if ((c_doc == NULL) || (!(options &amp; XML_PARSE_RECOVER) &amp;&amp; (RARRAY_LEN(rb_error_list) &gt; 0))) {
    VALUE rb_error ;

    xmlFreeDoc(c_doc);

    rb_error = rb_ary_entry(rb_error_list, 0);
    if (rb_error == Qnil) {
      rb_raise(rb_eRuntimeError, "Could not parse document");
    } else {
      VALUE exception_message = rb_funcall(rb_error, id_to_s, 0);
      exception_message = rb_str_concat(rb_str_new2("Parser without recover option encountered error or warning: "),
                                        exception_message);
      rb_exc_raise(rb_class_new_instance(1, &amp;exception_message, cNokogiriXmlSyntaxError));
    }

    return Qnil;
  }

  rb_doc = noko_xml_document_wrap(klass, c_doc);
  rb_iv_set(rb_doc, "@errors", rb_error_list);
  return rb_doc;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2 id="Instance+Method+Details">Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="fragment-instance_method">
  
    #<strong>fragment</strong>(tags = nil)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a Nokogiri::XML::DocumentFragment from <code>tags</code></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html4/document.rb', line 153</span>

<span class="kw">def</span> <span class="id identifier rubyid_fragment">fragment</span> <span class="id identifier rubyid_tags">tags</span> <span class="op">=</span> <span class="kw">nil</span>
  <span class="const"><span class="object_link"><a href="DocumentFragment.html" title="Nokogiri::HTML4::DocumentFragment (class)">DocumentFragment</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="../XML/DocumentFragment.html#new-class_method" title="Nokogiri::XML::DocumentFragment.new (method)">new</a></span></span><span class="lparen">(</span><span class="kw">self</span><span class="comma">,</span> <span class="id identifier rubyid_tags">tags</span><span class="comma">,</span> <span class="kw">self</span><span class="period">.</span><span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="meta_encoding-instance_method">
  
    #<strong>meta_encoding</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the meta tag encoding for this document.  If there is no meta tag, then nil is returned.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html4/document.rb', line 11</span>

<span class="kw">def</span> <span class="id identifier rubyid_meta_encoding">meta_encoding</span>
  <span class="kw">case</span>
  <span class="kw">when</span> <span class="id identifier rubyid_meta">meta</span> <span class="op">=</span> <span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">//meta[@charset]</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
    <span class="id identifier rubyid_meta">meta</span><span class="lbracket">[</span><span class="symbol">:charset</span><span class="rbracket">]</span>
  <span class="kw">when</span> <span class="id identifier rubyid_meta">meta</span> <span class="op">=</span> <span class="id identifier rubyid_meta_content_type">meta_content_type</span>
    <span class="id identifier rubyid_meta">meta</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">content</span><span class="tstring_end">'</span></span><span class="rbracket">]</span><span class="lbracket">[</span><span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">charset\s*=\s*([\w-]+)</span><span class="regexp_end">/i</span></span><span class="comma">,</span> <span class="int">1</span><span class="rbracket">]</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="meta_encoding=-instance_method">
  
    #<strong>meta_encoding=</strong>(encoding)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the meta tag encoding for this document.</p>

<p>If an meta encoding tag is already present, its content is replaced with the given text.</p>

<p>Otherwise, this method tries to create one at an appropriate place supplying head and/or html elements as necessary, which is inside a head element if any, and before any text node or content element (typically &lt;body&gt;) if any.</p>

<p>The result when trying to set an encoding that is different from the document encoding is undefined.</p>

<p>Beware in CRuby, that libxml2 automatically inserts a meta tag into a head element.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html4/document.rb', line 36</span>

<span class="kw">def</span> <span class="id identifier rubyid_meta_encoding=">meta_encoding=</span> <span class="id identifier rubyid_encoding">encoding</span>
  <span class="kw">case</span>
  <span class="kw">when</span> <span class="id identifier rubyid_meta">meta</span> <span class="op">=</span> <span class="id identifier rubyid_meta_content_type">meta_content_type</span>
    <span class="id identifier rubyid_meta">meta</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">content</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">=</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">text/html; charset=%s</span><span class="tstring_end">'</span></span> <span class="op">%</span> <span class="id identifier rubyid_encoding">encoding</span>
    <span class="id identifier rubyid_encoding">encoding</span>
  <span class="kw">when</span> <span class="id identifier rubyid_meta">meta</span> <span class="op">=</span> <span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">//meta[@charset]</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
    <span class="id identifier rubyid_meta">meta</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">charset</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">=</span> <span class="id identifier rubyid_encoding">encoding</span>
  <span class="kw">else</span>
    <span class="id identifier rubyid_meta">meta</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML/Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="../XML/Node.html#new-class_method" title="Nokogiri::XML::Node.new (method)">new</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">meta</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="kw">self</span><span class="rparen">)</span>
    <span class="kw">if</span> <span class="id identifier rubyid_dtd">dtd</span> <span class="op">=</span> <span class="id identifier rubyid_internal_subset">internal_subset</span> <span class="kw">and</span> <span class="id identifier rubyid_dtd">dtd</span><span class="period">.</span><span class="id identifier rubyid_html5_dtd?">html5_dtd?</span>
      <span class="id identifier rubyid_meta">meta</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">charset</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">=</span> <span class="id identifier rubyid_encoding">encoding</span>
    <span class="kw">else</span>
      <span class="id identifier rubyid_meta">meta</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">http-equiv</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">=</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">Content-Type</span><span class="tstring_end">'</span></span>
      <span class="id identifier rubyid_meta">meta</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">content</span><span class="tstring_end">'</span></span><span class="rbracket">]</span> <span class="op">=</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">text/html; charset=%s</span><span class="tstring_end">'</span></span> <span class="op">%</span> <span class="id identifier rubyid_encoding">encoding</span>
    <span class="kw">end</span>

    <span class="kw">case</span>
    <span class="kw">when</span> <span class="id identifier rubyid_head">head</span> <span class="op">=</span> <span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">//head</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
      <span class="id identifier rubyid_head">head</span><span class="period">.</span><span class="id identifier rubyid_prepend_child">prepend_child</span><span class="lparen">(</span><span class="id identifier rubyid_meta">meta</span><span class="rparen">)</span>
    <span class="kw">else</span>
      <span class="id identifier rubyid_set_metadata_element">set_metadata_element</span><span class="lparen">(</span><span class="id identifier rubyid_meta">meta</span><span class="rparen">)</span>
    <span class="kw">end</span>
    <span class="id identifier rubyid_encoding">encoding</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="serialize-instance_method">
  
    #<strong>serialize</strong>(options = {})  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Serialize Node using <code>options</code>.  Save options can also be set using a block. See SaveOptions.</p>

<p>These two statements are equivalent:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_serialize">serialize</span><span class="lparen">(</span><span class="symbol">:encoding</span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">UTF-8</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="symbol">:save_with</span> <span class="op">=&gt;</span> <span class="const">FORMAT</span> <span class="op">|</span> <span class="const">AS_XML</span><span class="rparen">)</span>
</code></pre>

<p>or</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_serialize">serialize</span><span class="lparen">(</span><span class="symbol">:encoding</span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">UTF-8</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_config">config</span><span class="op">|</span>
  <span class="id identifier rubyid_config">config</span><span class="period">.</span><span class="id identifier rubyid_format">format</span><span class="period">.</span><span class="id identifier rubyid_as_xml">as_xml</span>
<span class="kw">end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html4/document.rb', line 146</span>

<span class="kw">def</span> <span class="id identifier rubyid_serialize">serialize</span> <span class="id identifier rubyid_options">options</span> <span class="op">=</span> <span class="lbrace">{</span><span class="rbrace">}</span>
  <span class="id identifier rubyid_options">options</span><span class="lbracket">[</span><span class="symbol">:save_with</span><span class="rbracket">]</span> <span class="op">||=</span> <span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML/Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML/Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML/Node/SaveOptions.html#DEFAULT_HTML-constant" title="Nokogiri::XML::Node::SaveOptions::DEFAULT_HTML (constant)">DEFAULT_HTML</a></span></span>
  <span class="kw">super</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="title-instance_method">
  
    #<strong>title</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the title string of this document.  Return nil if there is no title tag.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html4/document.rb', line 72</span>

<span class="kw">def</span> <span class="id identifier rubyid_title">title</span>
  <span class="id identifier rubyid_title">title</span> <span class="op">=</span> <span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">//title</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="kw">and</span> <span class="id identifier rubyid_title">title</span><span class="period">.</span><span class="id identifier rubyid_inner_text">inner_text</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="title=-instance_method">
  
    #<strong>title=</strong>(text)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the title string of this document.</p>

<p>If a title element is already present, its content is replaced with the given text.</p>

<p>Otherwise, this method tries to create one at an appropriate place supplying head and/or html elements as necessary, which is inside a head element if any, right after a meta encoding/charset tag if any, and before any text node or content element (typically &lt;body&gt;) if any.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html4/document.rb', line 87</span>

<span class="kw">def</span> <span class="id identifier rubyid_title=">title=</span><span class="lparen">(</span><span class="id identifier rubyid_text">text</span><span class="rparen">)</span>
  <span class="id identifier rubyid_tnode">tnode</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML/Text.html" title="Nokogiri::XML::Text (class)">Text</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="../XML/Text.html#new-class_method" title="Nokogiri::XML::Text.new (method)">new</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_text">text</span><span class="comma">,</span> <span class="kw">self</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="id identifier rubyid_title">title</span> <span class="op">=</span> <span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">//title</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
    <span class="id identifier rubyid_title">title</span><span class="period">.</span><span class="id identifier rubyid_children">children</span> <span class="op">=</span> <span class="id identifier rubyid_tnode">tnode</span>
    <span class="kw">return</span> <span class="id identifier rubyid_text">text</span>
  <span class="kw">end</span>

  <span class="id identifier rubyid_title">title</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML/Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="../XML/Node.html#new-class_method" title="Nokogiri::XML::Node.new (method)">new</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">title</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="kw">self</span><span class="rparen">)</span> <span class="op">&lt;&lt;</span> <span class="id identifier rubyid_tnode">tnode</span>
  <span class="kw">case</span>
  <span class="kw">when</span> <span class="id identifier rubyid_head">head</span> <span class="op">=</span> <span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">//head</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
    <span class="id identifier rubyid_head">head</span> <span class="op">&lt;&lt;</span> <span class="id identifier rubyid_title">title</span>
  <span class="kw">when</span> <span class="id identifier rubyid_meta">meta</span> <span class="op">=</span> <span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">//meta[@charset]</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="op">||</span> <span class="id identifier rubyid_meta_content_type">meta_content_type</span>
    <span class="comment"># better put after charset declaration
</span>    <span class="id identifier rubyid_meta">meta</span><span class="period">.</span><span class="id identifier rubyid_add_next_sibling">add_next_sibling</span><span class="lparen">(</span><span class="id identifier rubyid_title">title</span><span class="rparen">)</span>
  <span class="kw">else</span>
    <span class="id identifier rubyid_set_metadata_element">set_metadata_element</span><span class="lparen">(</span><span class="id identifier rubyid_title">title</span><span class="rparen">)</span>
  <span class="kw">end</span>
  <span class="id identifier rubyid_text">text</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="type-instance_method">
  
    #<strong>type</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The type for this document</p>


  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/html4_document.c', line 144</span>

static VALUE
rb_html_document_type(VALUE self)
{
  htmlDocPtr doc;
  Data_Get_Struct(self, xmlDoc, doc);
  return INT2NUM((long)doc-&gt;type);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Aug 20 14:43:07 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.1).
</div>

    </div>
  </body>
</html>
