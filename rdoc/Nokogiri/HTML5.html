<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Nokogiri::HTML5
  
    — Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css">

  <link rel="stylesheet" href="../css/common.css" type="text/css">

<script type="text/javascript">
  pathId = "Nokogiri::HTML5";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


      <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1260604-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-1260604-8');
    </script>
</head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (H)</a> »
    <span class="title"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span>
     » 
    <span class="title">HTML5</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link" href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content">
<h1 id="Module%3A+Nokogiri%3A%3AHTML5">Module: Nokogiri::HTML5
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class="object_link"><a href="HTML5/Node.html" title="Nokogiri::HTML5::Node (module)">Node</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/nokogiri/html5.rb<span class="defines">,<br>
  lib/nokogiri/html5/node.rb,<br> lib/nokogiri/html5/document.rb,<br> lib/nokogiri/html5/document_fragment.rb,<br> ext/nokogiri/nokogiri.c</span>
</dd>
  </dl>
  
</div>

<h2 id="Overview">Overview</h2>
<div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class="inline">
<p>HTML5 functionality is not available when running JRuby.</p>
</div>
  </div>


<h2 id="label-Usage">Usage</h2>

<p>Parse an HTML5 document:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="period">.</span><span class="const">HTML5</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span>
</code></pre>

<p>Parse an HTML5 fragment:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_fragment">fragment</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const">HTML5</span><span class="period">.</span><span class="id identifier rubyid_fragment"><span class="object_link"><a href="#fragment-class_method" title="Nokogiri::HTML5.fragment (method)">fragment</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span>
</code></pre>

<h2 id="label-Parsing+options">Parsing options</h2>

<p>The document and fragment parsing methods support options that are different from Nokogiri's.</p>
<ul>
<li>
<p><code>Nokogiri.HTML5(html, url = nil, encoding = nil, options = {})</code></p>
</li>
<li>
<p><code>Nokogiri::HTML5.parse(html, url = nil, encoding = nil, options = {})</code></p>
</li>
<li>
<p><code>Nokogiri::HTML5::Document.parse(html, url = nil, encoding = nil, options = {})</code></p>
</li>
<li>
<p><code>Nokogiri::HTML5.fragment(html, encoding = nil, options = {})</code></p>
</li>
<li>
<p><code>Nokogiri::HTML5::DocumentFragment.parse(html, encoding = nil, options = {})</code></p>
</li>
</ul>

<p>The three currently supported options are <code>:max_errors</code>, <code>:max_tree_depth</code> and <code>:max_attributes</code>, described below.</p>

<h3 id="label-Error+reporting">Error reporting</h3>

<p>Nokogiri contains an experimental HTML5 parse error reporting facility. By default, no parse errors are reported but this can be configured by passing the <code>:max_errors</code> option to <span class="object_link"><a href="#parse-class_method" title="Nokogiri::HTML5.parse (method)">HTML5.parse</a></span> or <span class="object_link"><a href="#fragment-class_method" title="Nokogiri::HTML5.fragment (method)">HTML5.fragment</a></span>.</p>

<p>For example, this script:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const">HTML5</span><span class="period">.</span><span class="id identifier rubyid_parse"><span class="object_link"><a href="#parse-class_method" title="Nokogiri::HTML5.parse (method)">parse</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="label">max_errors:</span> <span class="int">10</span><span class="rparen">)</span>
<span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_errors">errors</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_err">err</span><span class="op">|</span>
  <span class="id identifier rubyid_puts">puts</span><span class="lparen">(</span><span class="id identifier rubyid_err">err</span><span class="rparen">)</span>
<span class="kw">end</span>
</code></pre>

<p>Emits:</p>

<pre class="code ruby"><code class="ruby">1:1: ERROR: Expected a doctype token
&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;
^
1:1: ERROR: Start tag of nonvoid HTML element ends with '/&gt;', use '&gt;'.
&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;
^
1:17: ERROR: End tag ends with '/&gt;', use '&gt;'.
&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;
                ^
1:17: ERROR: End tag contains attributes.
&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;
                ^
</code></pre>

<p>Using <code>max_errors: -1</code> results in an unlimited number of errors being returned.</p>

<p>The errors returned by <span class="object_link"><a href="XML/Document.html#errors-instance_method" title="Nokogiri::XML::Document#errors (method)">XML::Document#errors</a></span> are instances of <span class="object_link"><a href="XML/SyntaxError.html" title="Nokogiri::XML::SyntaxError (class)">XML::SyntaxError</a></span>.</p>

<p>The <a href="https://html.spec.whatwg.org/multipage/parsing.html#parse-errors" target="_parent" title="HTML standard">HTML standard</a> defines a number of standard parse error codes. These error codes only cover the “tokenization” stage of parsing HTML. The parse errors in the “tree construction” stage do not have standardized error codes (yet).</p>

<p>As a convenience to Nokogiri users, the defined error codes are available via <span class="object_link"><a href="XML/SyntaxError.html#str1-instance_method" title="Nokogiri::XML::SyntaxError#str1 (method)">XML::SyntaxError#str1</a></span> method.</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const">HTML5</span><span class="period">.</span><span class="id identifier rubyid_parse"><span class="object_link"><a href="#parse-class_method" title="Nokogiri::HTML5.parse (method)">parse</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">&lt;span/&gt;Hi there!&lt;/span foo=bar /&gt;</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="label">max_errors:</span> <span class="int">10</span><span class="rparen">)</span>
<span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_errors">errors</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_err">err</span><span class="op">|</span>
  <span class="id identifier rubyid_puts">puts</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_err">err</span><span class="period">.</span><span class="id identifier rubyid_line">line</span><span class="embexpr_end">}</span><span class="tstring_content">:</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_err">err</span><span class="period">.</span><span class="id identifier rubyid_column">column</span><span class="embexpr_end">}</span><span class="tstring_content">: </span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_err">err</span><span class="period">.</span><span class="id identifier rubyid_str1">str1</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
<span class="kw">end</span>
<span class="comment"># =&gt; 1:1: generic-parser
</span><span class="comment">#    1:1: non-void-html-element-start-tag-with-trailing-solidus
</span><span class="comment">#    1:17: end-tag-with-trailing-solidus
</span><span class="comment">#    1:17: end-tag-with-attributes
</span></code></pre>

<p>Note that the first error is <code>generic-parser</code> because it's an error from the tree construction stage and doesn't have a standardized error code.</p>

<p>For the purposes of semantic versioning, the error messages, error locations, and error codes are not part of Nokogiri's public API. That is, these are subject to change without Nokogiri's major version number changing. These may be stabilized in the future.</p>

<h3 id="label-Maximum+tree+depth">Maximum tree depth</h3>

<p>The maximum depth of the DOM tree parsed by the various parsing methods is configurable by the <code>:max_tree_depth</code> option. If the depth of the tree would exceed this limit, then an ArgumentError is thrown.</p>

<p>This limit (which defaults to <code>Nokogiri::Gumbo::DEFAULT_MAX_TREE_DEPTH = 400</code>) can be removed by giving the option <code>max_tree_depth: -1</code>.</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_html">html</span> <span class="op">=</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">&lt;!DOCTYPE html&gt;</span><span class="tstring_end">'</span></span> <span class="op">+</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">&lt;div&gt;</span><span class="tstring_end">'</span></span> <span class="op">*</span> <span class="int">1000</span>
<span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="period">.</span><span class="const">HTML5</span><span class="lparen">(</span><span class="id identifier rubyid_html">html</span><span class="rparen">)</span>
<span class="comment"># raises ArgumentError: Document tree depth limit exceeded
</span><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="period">.</span><span class="const">HTML5</span><span class="lparen">(</span><span class="id identifier rubyid_html">html</span><span class="comma">,</span> <span class="label">max_tree_depth:</span> <span class="op">-</span><span class="int">1</span><span class="rparen">)</span>
</code></pre>

<h3 id="label-Attribute+limit+per+element">Attribute limit per element</h3>

<p>The maximum number of attributes per DOM element is configurable by the <code>:max_attributes</code> option. If a given element would exceed this limit, then an ArgumentError is thrown.</p>

<p>This limit (which defaults to <code>Nokogiri::Gumbo::DEFAULT_MAX_ATTRIBUTES = 400</code>) can be removed by giving the option <code>max_attributes: -1</code>.</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_html">html</span> <span class="op">=</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">&lt;!DOCTYPE html&gt;&lt;div </span><span class="tstring_end">'</span></span> <span class="op">+</span> <span class="lparen">(</span><span class="int">1</span><span class="op">..</span><span class="int">1000</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_map">map</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">attr-</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_x">x</span><span class="embexpr_end">}</span><span class="tstring_end">"</span></span> <span class="rbrace">}</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content"> </span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="op">+</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">&gt;</span><span class="tstring_end">'</span></span>
<span class="comment"># "&lt;!DOCTYPE html&gt;&lt;div attr-1 attr-2 attr-3 ... attr-1000&gt;"
</span><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="period">.</span><span class="const">HTML5</span><span class="lparen">(</span><span class="id identifier rubyid_html">html</span><span class="rparen">)</span>
<span class="comment"># raises ArgumentError: Attributes per element limit exceeded
</span><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="period">.</span><span class="const">HTML5</span><span class="lparen">(</span><span class="id identifier rubyid_html">html</span><span class="comma">,</span> <span class="label">max_attributes:</span> <span class="op">-</span><span class="int">1</span><span class="rparen">)</span>
</code></pre>

<h2 id="label-HTML+Serialization">HTML Serialization</h2>

<p>After parsing HTML, it may be serialized using any of the <span class="object_link"><a href="XML/Node.html" title="Nokogiri::XML::Node (class)">XML::Node</a></span> serialization methods. In particular, <span class="object_link"><a href="XML/Node.html#serialize-instance_method" title="Nokogiri::XML::Node#serialize (method)">XML::Node#serialize</a></span>, <span class="object_link"><a href="XML/Node.html#to_html-instance_method" title="Nokogiri::XML::Node#to_html (method)">XML::Node#to_html</a></span>, and <span class="object_link"><a href="XML/Node.html#to_s-instance_method" title="Nokogiri::XML::Node#to_s (method)">XML::Node#to_s</a></span> will serialize a given node and its children. (This is the equivalent of JavaScript's <code>Element.outerHTML</code>.) Similarly, <span class="object_link"><a href="XML/Node.html#inner_html-instance_method" title="Nokogiri::XML::Node#inner_html (method)">XML::Node#inner_html</a></span> will serialize the children of a given node. (This is the equivalent of JavaScript's <code>Element.innerHTML</code>.)</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const">HTML5</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">&lt;!DOCTYPE html&gt;&lt;span&gt;Hello world!&lt;/span&gt;</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_serialize">serialize</span>
<span class="comment"># =&gt; &lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;span&gt;Hello world!&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;
</span></code></pre>

<p>Due to quirks in how HTML is parsed and serialized, it's possible for a DOM tree to be serialized and then re-parsed, resulting in a different DOM.  Mostly, this happens with DOMs produced from invalid HTML. Unfortunately, even valid HTML may not survive serialization and re-parsing.</p>

<p>In particular, a newline at the start of <code>pre</code>, <code>listing</code>, and <code>textarea</code> elements is ignored by the parser.</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const">HTML5</span><span class="lparen">(</span><span class="heredoc_beg">&lt;&lt;-EOF</span><span class="rparen">)</span>
<span class="tstring_content">&lt;!DOCTYPE html&gt;
&lt;pre&gt;
Content&lt;/pre&gt;
</span><span class="heredoc_end">EOF
</span><span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">/html/body/pre</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_serialize">serialize</span>
<span class="comment"># =&gt; &lt;pre&gt;Content&lt;/pre&gt;
</span></code></pre>

<p>In this case, the original HTML is semantically equivalent to the serialized version. If the <code>pre</code>, <code>listing</code>, or <code>textarea</code> content starts with two newlines, the first newline will be stripped on the first parse and the second newline will be stripped on the second, leading to semantically different DOMs. Passing the parameter <code>preserve_newline: true</code> will cause two or more newlines to be preserved. (A single leading newline will still be removed.)</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const">HTML5</span><span class="lparen">(</span><span class="heredoc_beg">&lt;&lt;-EOF</span><span class="rparen">)</span>
<span class="tstring_content">&lt;!DOCTYPE html&gt;
&lt;listing&gt;

Content&lt;/listing&gt;
</span><span class="heredoc_end">EOF
</span><span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">/html/body/listing</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_serialize">serialize</span><span class="lparen">(</span><span class="label">preserve_newline:</span> <span class="kw">true</span><span class="rparen">)</span>
<span class="comment"># =&gt; &lt;listing&gt;
</span><span class="comment">#
</span><span class="comment">#    Content&lt;/listing&gt;
</span></code></pre>

<h2 id="label-Encodings">Encodings</h2>

<p>Nokogiri always parses HTML5 using <a href="https://en.wikipedia.org/wiki/UTF-8" target="_parent" title="UTF-8">UTF-8</a>; however, the encoding of the input can be explicitly selected via the optional <code>encoding</code> parameter. This is most useful when the input comes not from a string but from an IO object.</p>

<p>When serializing a document or node, the encoding of the output string can be specified via the <code>:encoding</code> options. Characters that cannot be encoded in the selected encoding will be encoded as <a href="https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references" target="_parent" title="HTML numeric entities">HTML numeric entities</a>.</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_frag">frag</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const">HTML5</span><span class="period">.</span><span class="id identifier rubyid_fragment"><span class="object_link"><a href="#fragment-class_method" title="Nokogiri::HTML5.fragment (method)">fragment</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">&lt;span&gt;아는 길도 물어가라&lt;/span&gt;</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
<span class="id identifier rubyid_html">html</span> <span class="op">=</span> <span class="id identifier rubyid_frag">frag</span><span class="period">.</span><span class="id identifier rubyid_serialize">serialize</span><span class="lparen">(</span><span class="label">encoding:</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">US-ASCII</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_html">html</span>
<span class="comment"># =&gt; &lt;span&gt;&amp;#xc544;&amp;#xb294; &amp;#xae38;&amp;#xb3c4; &amp;#xbb3c;&amp;#xc5b4;&amp;#xac00;&amp;#xb77c;&lt;/span&gt;
</span><span class="id identifier rubyid_frag">frag</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const">HTML5</span><span class="period">.</span><span class="id identifier rubyid_fragment"><span class="object_link"><a href="#fragment-class_method" title="Nokogiri::HTML5.fragment (method)">fragment</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_html">html</span><span class="rparen">)</span>
<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_frag">frag</span><span class="period">.</span><span class="id identifier rubyid_serialize">serialize</span>
<span class="comment"># =&gt; &lt;span&gt;아는 길도 물어가라&lt;/span&gt;
</span></code></pre>

<p>(There's a <a href="https://bugs.ruby-lang.org/issues/15033" target="_parent" title="bug">bug</a> in all current versions of Ruby that can cause the entity encoding to fail. Of the mandated supported encodings for HTML, the only encoding I'm aware of that has this bug is <code>'ISO-2022-JP'</code>. We recommend avoiding this encoding.)</p>

<h2 id="label-Notes">Notes</h2>
<ul>
<li>
<p>The <span class="object_link"><a href="#fragment-class_method" title="Nokogiri::HTML5.fragment (method)">HTML5.fragment</a></span> function takes a string and parses it as a HTML5 document.  The <tt>&lt;html&gt;</tt>, <tt>&lt;head&gt;</tt>, and <tt>&lt;body&gt;</tt> elements are removed from this document, and any children of these elements that remain are returned as a <span class="object_link"><a href="HTML5/DocumentFragment.html" title="Nokogiri::HTML5::DocumentFragment (class)">DocumentFragment</a></span>.</p>
</li>
<li>
<p>The <span class="object_link"><a href="#parse-class_method" title="Nokogiri::HTML5.parse (method)">HTML5.parse</a></span> function takes a string and passes it to the <code>gumbo_parse_with_options</code> method, using the default options. The resulting Gumbo parse tree is then walked.</p>
</li>
<li>
<p>Instead of uppercase element names, lowercase element names are produced.</p>
</li>
<li>
<p>Instead of returning <code>unknown</code> as the element name for unknown tags, the original tag name is returned verbatim.</p>
</li>
</ul>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<h2 id="Defined+Under+Namespace">Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class="object_link"><a href="HTML5/Node.html" title="Nokogiri::HTML5::Node (module)">Node</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class="object_link"><a href="HTML5/Document.html" title="Nokogiri::HTML5::Document (class)">Document</a></span>, <span class="object_link"><a href="HTML5/DocumentFragment.html" title="Nokogiri::HTML5::DocumentFragment (class)">DocumentFragment</a></span>
    
  
</p>

  
    <h2 id="Constant+Summary">
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="HTML_NAMESPACE-constant" class="">HTML_NAMESPACE =
          <div class="docstring">
  <div class="discussion">
    
<p>HTML uses the XHTML namespace.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">http://www.w3.org/1999/xhtml</span><span class="tstring_end">'</span></span><span class="period">.</span><span class="id identifier rubyid_freeze">freeze</span></pre></dd>
      
        <dt id="MATHML_NAMESPACE-constant" class="">MATHML_NAMESPACE =
          <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">http://www.w3.org/1998/Math/MathML</span><span class="tstring_end">'</span></span><span class="period">.</span><span class="id identifier rubyid_freeze">freeze</span></pre></dd>
      
        <dt id="SVG_NAMESPACE-constant" class="">SVG_NAMESPACE =
          <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">http://www.w3.org/2000/svg</span><span class="tstring_end">'</span></span><span class="period">.</span><span class="id identifier rubyid_freeze">freeze</span></pre></dd>
      
        <dt id="XLINK_NAMESPACE-constant" class="">XLINK_NAMESPACE =
          <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">http://www.w3.org/1999/xlink</span><span class="tstring_end">'</span></span><span class="period">.</span><span class="id identifier rubyid_freeze">freeze</span></pre></dd>
      
        <dt id="XML_NAMESPACE-constant" class="">XML_NAMESPACE =
          <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">http://www.w3.org/XML/1998/namespace</span><span class="tstring_end">'</span></span><span class="period">.</span><span class="id identifier rubyid_freeze">freeze</span></pre></dd>
      
        <dt id="XMLNS_NAMESPACE-constant" class="">XMLNS_NAMESPACE =
          <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">http://www.w3.org/2000/xmlns/</span><span class="tstring_end">'</span></span><span class="period">.</span><span class="id identifier rubyid_freeze">freeze</span></pre></dd>
      
    </dl>
  







  
    <h2 id="Class+Method+Summary">
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fragment-class_method" title="fragment (class method)">.<strong>fragment</strong>(string, encoding = nil, **options)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Parse a fragment from <code>string</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get-class_method" title="get (class method)">.<strong>get</strong>(uri, options = {})  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Fetch and parse a HTML document from the web, following redirects, handling https, and determining the character encoding using HTML5 rules.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse-class_method" title="parse (class method)">.<strong>parse</strong>(string, url = nil, encoding = nil, **options, &amp;block)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Parse an HTML 5 document.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Instance+Method+Summary">
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fragment-instance_method" title="#fragment (instance method)">#<strong>fragment</strong>(tags)  ⇒ Object </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class="object_link"><a href="HTML5/Node.html#fragment-instance_method" title="Nokogiri::HTML5::Node#fragment (method)">Node</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inner_html-instance_method" title="#inner_html (instance method)">#<strong>inner_html</strong>(options = {})  ⇒ Object </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class="object_link"><a href="HTML5/Node.html#inner_html-instance_method" title="Nokogiri::HTML5::Node#inner_html (method)">Node</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_to-instance_method" title="#write_to (instance method)">#<strong>write_to</strong>(io, *options) {|config| ... } ⇒ Object </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class="object_link"><a href="HTML5/Node.html#write_to-instance_method" title="Nokogiri::HTML5::Node#write_to (method)">Node</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
    </ul>
  


  
  

  <div id="class_method_details" class="method_details_list">
    <h2 id="Class+Method+Details">Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="fragment-class_method">
  
    .<strong>fragment</strong>(string, encoding = nil, **options)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parse a fragment from <code>string</code>. Convenience method for <span class="object_link"><a href="HTML5/DocumentFragment.html#parse-class_method" title="Nokogiri::HTML5::DocumentFragment.parse (method)">Nokogiri::HTML5::DocumentFragment.parse</a></span>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


241
242
243</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html5.rb', line 241</span>

<span class="kw">def</span> <span class="kw">self</span><span class="period">.</span><span class="id identifier rubyid_fragment">fragment</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span> <span class="op">=</span> <span class="kw">nil</span><span class="comma">,</span> <span class="op">**</span><span class="id identifier rubyid_options">options</span><span class="rparen">)</span>
  <span class="const"><span class="object_link"><a href="HTML5/DocumentFragment.html" title="Nokogiri::HTML5::DocumentFragment (class)">DocumentFragment</a></span></span><span class="period">.</span><span class="id identifier rubyid_parse"><span class="object_link"><a href="HTML5/DocumentFragment.html#parse-class_method" title="Nokogiri::HTML5::DocumentFragment.parse (method)">parse</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get-class_method">
  
    .<strong>get</strong>(uri, options = {})  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Fetch and parse a HTML document from the web, following redirects, handling https, and determining the character encoding using HTML5 rules.  <code>uri</code> may be a <code>String</code> or a <code>URI</code>.  <code>options</code> contains http headers and special options.  Everything which is not a special option is considered a header.  Special options include:</p>

<pre class="code ruby"><code class="ruby">* :follow_limit =&gt; number of redirects which are followed
* :basic_auth =&gt; [username, password]
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


252
253
254
255
256</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html5.rb', line 252</span>

<span class="kw">def</span> <span class="kw">self</span><span class="period">.</span><span class="id identifier rubyid_get">get</span><span class="lparen">(</span><span class="id identifier rubyid_uri">uri</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="op">=</span><span class="lbrace">{</span><span class="rbrace">}</span><span class="rparen">)</span>
  <span class="id identifier rubyid_warn">warn</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Nokogiri::HTML5.get is deprecated and will be removed in a future version of Nokogiri.</span><span class="tstring_end">"</span></span><span class="comma">,</span>
       <span class="label">uplevel:</span> <span class="int">1</span><span class="comma">,</span> <span class="label">category:</span> <span class="symbol">:deprecated</span><span class="rparen">)</span>
  <span class="id identifier rubyid_get_impl">get_impl</span><span class="lparen">(</span><span class="id identifier rubyid_uri">uri</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse-class_method">
  
    .<strong>parse</strong>(string, url = nil, encoding = nil, **options, &amp;block)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parse an HTML 5 document. Convenience method for <span class="object_link"><a href="HTML5/Document.html#parse-class_method" title="Nokogiri::HTML5::Document.parse (method)">Nokogiri::HTML5::Document.parse</a></span></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


235
236
237</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/html5.rb', line 235</span>

<span class="kw">def</span> <span class="kw">self</span><span class="period">.</span><span class="id identifier rubyid_parse">parse</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="comma">,</span> <span class="id identifier rubyid_url">url</span> <span class="op">=</span> <span class="kw">nil</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span> <span class="op">=</span> <span class="kw">nil</span><span class="comma">,</span> <span class="op">**</span><span class="id identifier rubyid_options">options</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
  <span class="const"><span class="object_link"><a href="HTML5/Document.html" title="Nokogiri::HTML5::Document (class)">Document</a></span></span><span class="period">.</span><span class="id identifier rubyid_parse"><span class="object_link"><a href="HTML5/Document.html#parse-class_method" title="Nokogiri::HTML5::Document.parse (method)">parse</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="comma">,</span> <span class="id identifier rubyid_url">url</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span><span class="comma">,</span> <span class="op">**</span><span class="id identifier rubyid_options">options</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2 id="Instance+Method+Details">Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="fragment-instance_method">
  
    #<strong>fragment</strong>(tags)  ⇒ <tt>Object</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class="object_link"><a href="HTML5/Node.html#fragment-instance_method" title="Nokogiri::HTML5::Node#fragment (method)">Node</a></span>
    </span>
  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inner_html-instance_method">
  
    #<strong>inner_html</strong>(options = {})  ⇒ <tt>Object</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class="object_link"><a href="HTML5/Node.html#inner_html-instance_method" title="Nokogiri::HTML5::Node#inner_html (method)">Node</a></span>
    </span>
  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_to-instance_method">
  
    #<strong>write_to</strong>(io, *options) {|config| ... } ⇒ <tt>Object</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class="object_link"><a href="HTML5/Node.html#write_to-instance_method" title="Nokogiri::HTML5::Node#write_to (method)">Node</a></span>
    </span>
  
</h3>
<div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class="type">(<tt>config</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class="inline">
<p>v1.12.0</p>
</div>
      
    </li>
  
</ul>

</div>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Aug 20 13:55:41 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.1).
</div>

    </div>
  </body>
</html>
