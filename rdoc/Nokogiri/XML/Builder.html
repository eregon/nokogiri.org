<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Nokogiri::XML::Builder
  
    — Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css">

  <link rel="stylesheet" href="../../css/common.css" type="text/css">

<script type="text/javascript">
  pathId = "Nokogiri::XML::Builder";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


      <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1260604-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-1260604-8');
    </script>
</head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (B)</a> »
    <span class="title"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span> » <span class="title"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span>
     » 
    <span class="title">Builder</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link" href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content">
<h1 id="Class%3A+Nokogiri%3A%3AXML%3A%3ABuilder">Class: Nokogiri::XML::Builder
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nokogiri::XML::Builder</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/nokogiri/xml/builder.rb</dd>
  </dl>
  
</div>

<h2 id="Overview">Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>Nokogiri builder can be used for building XML and HTML documents.</p>

<h2 id="label-Synopsis-3A">Synopsis:</h2>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_builder">builder</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">Builder</span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::Builder#initialize (method)">new</a></span></span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_xml">xml</span><span class="op">|</span>
  <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_root">root</span> <span class="lbrace">{</span>
    <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_products">products</span> <span class="lbrace">{</span>
      <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_widget">widget</span> <span class="lbrace">{</span>
        <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_id_">id_</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">10</span><span class="tstring_end">"</span></span>
        <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_name">name</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Awesome widget</span><span class="tstring_end">"</span></span>
      <span class="rbrace">}</span>
    <span class="rbrace">}</span>
  <span class="rbrace">}</span>
<span class="kw">end</span>
<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_builder">builder</span><span class="period">.</span><span class="id identifier rubyid_to_xml">to_xml</span>
</code></pre>

<p>Will output:</p>

<pre class="code ruby"><code class="ruby">&lt;?xml version="1.0"?&gt;
&lt;root&gt;
  &lt;products&gt;
    &lt;widget&gt;
      &lt;id&gt;10&lt;/id&gt;
      &lt;name&gt;Awesome widget&lt;/name&gt;
    &lt;/widget&gt;
  &lt;/products&gt;
&lt;/root&gt;
</code></pre>

<h3 id="label-Builder+scope">Builder scope</h3>

<p>The builder allows two forms.  When the builder is supplied with a block that has a parameter, the outside scope is maintained.  This means you can access variables that are outside your builder.  If you don't need outside scope, you can use the builder without the “xml” prefix like this:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_builder">builder</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">Builder</span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::Builder#initialize (method)">new</a></span></span> <span class="kw">do</span>
  <span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span> <span class="lbrace">{</span>
    <span class="id identifier rubyid_products">products</span> <span class="lbrace">{</span>
      <span class="id identifier rubyid_widget">widget</span> <span class="lbrace">{</span>
        <span class="id identifier rubyid_id_">id_</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">10</span><span class="tstring_end">"</span></span>
        <span class="id identifier rubyid_name">name</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Awesome widget</span><span class="tstring_end">"</span></span>
      <span class="rbrace">}</span>
    <span class="rbrace">}</span>
  <span class="rbrace">}</span>
<span class="kw">end</span>
</code></pre>

<h2 id="label-Special+Tags">Special Tags</h2>

<p>The builder works by taking advantage of method_missing.  Unfortunately some methods are defined in ruby that are difficult or dangerous to remove.  You may want to create tags with the name “type”, “class”, and “id” for example.  In that case, you can use an underscore to disambiguate your tag name from the method call.</p>

<p>Here is an example of using the underscore to disambiguate tag names from ruby methods:</p>

<pre class="code ruby"><code class="ruby"><span class="ivar">@objects</span> <span class="op">=</span> <span class="lbracket">[</span><span class="const">Object</span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="comma">,</span> <span class="const">Object</span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="comma">,</span> <span class="const">Object</span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="rbracket">]</span>

<span class="id identifier rubyid_builder">builder</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">Builder</span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::Builder#initialize (method)">new</a></span></span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_xml">xml</span><span class="op">|</span>
  <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_root">root</span> <span class="lbrace">{</span>
    <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_objects">objects</span> <span class="lbrace">{</span>
      <span class="ivar">@objects</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_o">o</span><span class="op">|</span>
        <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_object">object</span> <span class="lbrace">{</span>
          <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_type_">type_</span>   <span class="id identifier rubyid_o">o</span><span class="period">.</span><span class="id identifier rubyid_type">type</span>
          <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_class_">class_</span>  <span class="id identifier rubyid_o">o</span><span class="period">.</span><span class="id identifier rubyid_class">class</span><span class="period">.</span><span class="id identifier rubyid_name">name</span>
          <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_id_">id_</span>     <span class="id identifier rubyid_o">o</span><span class="period">.</span><span class="id identifier rubyid_id">id</span>
        <span class="rbrace">}</span>
      <span class="kw">end</span>
    <span class="rbrace">}</span>
  <span class="rbrace">}</span>
<span class="kw">end</span>
<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_builder">builder</span><span class="period">.</span><span class="id identifier rubyid_to_xml">to_xml</span>
</code></pre>

<p>The underscore may be used with any tag name, and the last underscore will just be removed.  This code will output the following XML:</p>

<pre class="code ruby"><code class="ruby">&lt;?xml version="1.0"?&gt;
&lt;root&gt;
  &lt;objects&gt;
    &lt;object&gt;
      &lt;type&gt;Object&lt;/type&gt;
      &lt;class&gt;Object&lt;/class&gt;
      &lt;id&gt;48390&lt;/id&gt;
    &lt;/object&gt;
    &lt;object&gt;
      &lt;type&gt;Object&lt;/type&gt;
      &lt;class&gt;Object&lt;/class&gt;
      &lt;id&gt;48380&lt;/id&gt;
    &lt;/object&gt;
    &lt;object&gt;
      &lt;type&gt;Object&lt;/type&gt;
      &lt;class&gt;Object&lt;/class&gt;
      &lt;id&gt;48370&lt;/id&gt;
    &lt;/object&gt;
  &lt;/objects&gt;
&lt;/root&gt;
</code></pre>

<h2 id="label-Tag+Attributes">Tag Attributes</h2>

<p>Tag attributes may be supplied as method arguments.  Here is our previous example, but using attributes rather than tags:</p>

<pre class="code ruby"><code class="ruby"><span class="ivar">@objects</span> <span class="op">=</span> <span class="lbracket">[</span><span class="const">Object</span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="comma">,</span> <span class="const">Object</span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="comma">,</span> <span class="const">Object</span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="rbracket">]</span>

<span class="id identifier rubyid_builder">builder</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">Builder</span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::Builder#initialize (method)">new</a></span></span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_xml">xml</span><span class="op">|</span>
  <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_root">root</span> <span class="lbrace">{</span>
    <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_objects">objects</span> <span class="lbrace">{</span>
      <span class="ivar">@objects</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_o">o</span><span class="op">|</span>
        <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_object">object</span><span class="lparen">(</span><span class="symbol">:type</span> <span class="op">=&gt;</span> <span class="id identifier rubyid_o">o</span><span class="period">.</span><span class="id identifier rubyid_type">type</span><span class="comma">,</span> <span class="symbol">:class</span> <span class="op">=&gt;</span> <span class="id identifier rubyid_o">o</span><span class="period">.</span><span class="id identifier rubyid_class">class</span><span class="comma">,</span> <span class="symbol">:id</span> <span class="op">=&gt;</span> <span class="id identifier rubyid_o">o</span><span class="period">.</span><span class="id identifier rubyid_id">id</span><span class="rparen">)</span>
      <span class="kw">end</span>
    <span class="rbrace">}</span>
  <span class="rbrace">}</span>
<span class="kw">end</span>
<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_builder">builder</span><span class="period">.</span><span class="id identifier rubyid_to_xml">to_xml</span>
</code></pre>

<h3 id="label-Tag+Attribute+Short+Cuts">Tag Attribute Short Cuts</h3>

<p>A couple attribute short cuts are available when building tags.  The short cuts are available by special method calls when building a tag.</p>

<p>This example builds an “object” tag with the class attribute “classy” and the id of “thing”:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_builder">builder</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">Builder</span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::Builder#initialize (method)">new</a></span></span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_xml">xml</span><span class="op">|</span>
  <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_root">root</span> <span class="lbrace">{</span>
    <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_objects">objects</span> <span class="lbrace">{</span>
      <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_object">object</span><span class="period">.</span><span class="id identifier rubyid_classy">classy</span><span class="period">.</span><span class="id identifier rubyid_thing!">thing!</span>
    <span class="rbrace">}</span>
  <span class="rbrace">}</span>
<span class="kw">end</span>
<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_builder">builder</span><span class="period">.</span><span class="id identifier rubyid_to_xml">to_xml</span>
</code></pre>

<p>Which will output:</p>

<pre class="code ruby"><code class="ruby">&lt;?xml version="1.0"?&gt;
&lt;root&gt;
  &lt;objects&gt;
    &lt;object class="classy" id="thing"/&gt;
  &lt;/objects&gt;
&lt;/root&gt;
</code></pre>

<p>All other options are still supported with this syntax, including blocks and extra tag attributes.</p>

<h2 id="label-Namespaces">Namespaces</h2>

<p>Namespaces are added similarly to attributes.  Nokogiri::XML::Builder assumes that when an attribute starts with “xmlns”, it is meant to be a namespace:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_builder">builder</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">Builder</span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::Builder#initialize (method)">new</a></span></span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_xml">xml</span><span class="op">|</span>
  <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_root">root</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">xmlns</span><span class="tstring_end">'</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">default</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">xmlns:foo</span><span class="tstring_end">'</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">bar</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="kw">do</span>
    <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_tenderlove">tenderlove</span>
  <span class="kw">end</span>
<span class="rbrace">}</span>
<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_builder">builder</span><span class="period">.</span><span class="id identifier rubyid_to_xml">to_xml</span>
</code></pre>

<p>Will output XML like this:</p>

<pre class="code ruby"><code class="ruby">&lt;?xml version="1.0"?&gt;
&lt;root xmlns:foo="bar" xmlns="default"&gt;
  &lt;tenderlove/&gt;
&lt;/root&gt;
</code></pre>

<h3 id="label-Referencing+declared+namespaces">Referencing declared namespaces</h3>

<p>Tags that reference non-default namespaces (i.e. a tag “foo:bar”) can be built by using the Nokogiri::XML::Builder#[] method.</p>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_builder">builder</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">Builder</span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::Builder#initialize (method)">new</a></span></span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_xml">xml</span><span class="op">|</span>
  <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_root">root</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">xmlns:foo</span><span class="tstring_end">'</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">bar</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="lbrace">{</span>
    <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_objects">objects</span> <span class="lbrace">{</span>
      <span class="id identifier rubyid_xml">xml</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">foo</span><span class="tstring_end">'</span></span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_object">object</span><span class="period">.</span><span class="id identifier rubyid_classy">classy</span><span class="period">.</span><span class="id identifier rubyid_thing!">thing!</span>
    <span class="rbrace">}</span>
  <span class="rbrace">}</span>
<span class="kw">end</span>
<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_builder">builder</span><span class="period">.</span><span class="id identifier rubyid_to_xml">to_xml</span>
</code></pre>

<p>Will output this XML:</p>

<pre class="code ruby"><code class="ruby">&lt;?xml version="1.0"?&gt;
&lt;root xmlns:foo="bar"&gt;
  &lt;objects&gt;
    &lt;foo:object class="classy" id="thing"/&gt;
  &lt;/objects&gt;
&lt;/root&gt;
</code></pre>

<p>Note the “foo:object” tag.</p>

<h2 id="label-Document+Types">Document Types</h2>

<p>To create a document type (DTD), access use the Builder#doc method to get the current context document.  Then call Node#create_internal_subset to create the DTD node.</p>

<p>For example, this Ruby:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_builder">builder</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">Builder</span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::Builder#initialize (method)">new</a></span></span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_xml">xml</span><span class="op">|</span>
  <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_create_internal_subset">create_internal_subset</span><span class="lparen">(</span>
    <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">html</span><span class="tstring_end">'</span></span><span class="comma">,</span>
    <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">-//W3C//DTD HTML 4.01 Transitional//EN</span><span class="tstring_end">"</span></span><span class="comma">,</span>
    <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">http://www.w3.org/TR/html4/loose.dtd</span><span class="tstring_end">"</span></span>
  <span class="rparen">)</span>
  <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_root">root</span> <span class="kw">do</span>
    <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_foo">foo</span>
  <span class="kw">end</span>
<span class="kw">end</span>

<span class="id identifier rubyid_puts">puts</span> <span class="id identifier rubyid_builder">builder</span><span class="period">.</span><span class="id identifier rubyid_to_xml">to_xml</span>
</code></pre>

<p>Will output this xml:</p>

<pre class="code ruby"><code class="ruby">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;root&gt;
  &lt;foo/&gt;
&lt;/root&gt;
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>
<div id="subclasses">
  <h2 id="Direct+Known+Subclasses">Direct Known Subclasses</h2>
  <p class="children"><span class="object_link"><a href="../HTML4/Builder.html" title="Nokogiri::HTML4::Builder (class)">HTML4::Builder</a></span>, <span class="object_link"><a href="../HTML/Builder.html" title="Nokogiri::HTML::Builder (class)">HTML::Builder</a></span></p>
</div>
<h2 id="Defined+Under+Namespace">Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class="object_link"><a href="Builder/NodeBuilder.html" title="Nokogiri::XML::Builder::NodeBuilder (class)">NodeBuilder</a></span>
    
  
</p>




  <h2 id="Instance+Attribute+Summary">Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small>
</h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#arity-instance_method" title="#arity (instance method)">#<strong>arity</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>:nodoc:.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#context-instance_method" title="#context (instance method)">#<strong>context</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>A context object for use when the block has no arguments.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#doc-instance_method" title="#doc (instance method)">#<strong>doc</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>The current Document object being built.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent-instance_method" title="#parent (instance method)">#<strong>parent</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>The parent of the current node being built.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2 id="Class+Method+Summary">
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with-class_method" title="with (class method)">.<strong>with</strong>(root, &amp;block)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a builder with an existing root object.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Instance+Method+Summary">
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#&lt;&lt;-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(string)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Append the given raw XML <code>string</code> to the document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">#<strong>[]</strong>(ns)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Build a tag that is associated with namespace <code>ns</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cdata-instance_method" title="#cdata (instance method)">#<strong>cdata</strong>(string)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a CDATA Node with content of <code>string</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#comment-instance_method" title="#comment (instance method)">#<strong>comment</strong>(string)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a Comment Node with content of <code>string</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(options = {}, root = nil, &amp;block)  ⇒ Builder </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a new Builder object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#method_missing-instance_method" title="#method_missing (instance method)">#<strong>method_missing</strong>(method, *args, &amp;block)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#text-instance_method" title="#text (instance method)">#<strong>text</strong>(string)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a Text Node with content of <code>string</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_xml-instance_method" title="#to_xml (instance method)">#<strong>to_xml</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Convert this Builder object to XML.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2 id="Constructor+Details">Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(options = {}, root = nil, &amp;block)  ⇒ <tt><span class="object_link"><a href="" title="Nokogiri::XML::Builder (class)">Builder</a></span></tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a new Builder object.  <code>options</code> are sent to the top level Document that is being built.</p>

<p>Building a document with a particular encoding for example:</p>

<pre class="code ruby"><code class="ruby">Nokogiri::XML::Builder.new(:encoding =&gt; 'UTF-8') do |xml|
  ...
end
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 267</span>

<span class="kw">def</span> <span class="id identifier rubyid_initialize">initialize</span><span class="lparen">(</span><span class="id identifier rubyid_options">options</span> <span class="op">=</span> <span class="lbrace">{</span><span class="rbrace">}</span><span class="comma">,</span> <span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span> <span class="op">=</span> <span class="kw">nil</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span>
    <span class="ivar">@doc</span> <span class="op">=</span> <span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span><span class="period">.</span><span class="id identifier rubyid_document">document</span>
    <span class="ivar">@parent</span> <span class="op">=</span> <span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span>
  <span class="kw">else</span>
    <span class="id identifier rubyid_klassname">klassname</span> <span class="op">=</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">::</span><span class="tstring_end">"</span></span> <span class="op">+</span> <span class="lparen">(</span><span class="kw">self</span><span class="period">.</span><span class="id identifier rubyid_class">class</span><span class="period">.</span><span class="id identifier rubyid_name">name</span><span class="period">.</span><span class="id identifier rubyid_split">split</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">::</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="lbracket">[</span><span class="int">0</span><span class="op">..</span><span class="op">-</span><span class="int">2</span><span class="rbracket">]</span> <span class="op">+</span> <span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Document</span><span class="tstring_end">"</span></span><span class="rbracket">]</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">::</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
    <span class="id identifier rubyid_klass">klass</span> <span class="op">=</span> <span class="kw">begin</span>
              <span class="const">Object</span><span class="period">.</span><span class="id identifier rubyid_const_get">const_get</span><span class="lparen">(</span><span class="id identifier rubyid_klassname">klassname</span><span class="rparen">)</span>
            <span class="kw">rescue</span> <span class="const">NameError</span>
              <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Document.html" title="Nokogiri::XML::Document (class)">Document</a></span></span>
            <span class="kw">end</span>
    <span class="ivar">@parent</span> <span class="op">=</span> <span class="ivar">@doc</span> <span class="op">=</span> <span class="id identifier rubyid_klass">klass</span><span class="period">.</span><span class="id identifier rubyid_new">new</span>
  <span class="kw">end</span>

  <span class="ivar">@context</span> <span class="op">=</span> <span class="kw">nil</span>
  <span class="ivar">@arity</span> <span class="op">=</span> <span class="kw">nil</span>
  <span class="ivar">@ns</span> <span class="op">=</span> <span class="kw">nil</span>

  <span class="id identifier rubyid_options">options</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_k">k</span><span class="comma">,</span> <span class="id identifier rubyid_v">v</span><span class="op">|</span>
    <span class="ivar">@doc</span><span class="period">.</span><span class="id identifier rubyid_send">send</span><span class="lparen">(</span><span class="symbol">:"#{</span><span class="id identifier rubyid_k">k</span><span class="embexpr_end">}</span><span class="tstring_content">=</span><span class="tstring_end">"</span><span class="comma">,</span> <span class="id identifier rubyid_v">v</span><span class="rparen">)</span>
  <span class="kw">end</span>

  <span class="kw">return</span> <span class="kw">unless</span> <span class="id identifier rubyid_block_given?">block_given?</span>

  <span class="ivar">@arity</span> <span class="op">=</span> <span class="id identifier rubyid_block">block</span><span class="period">.</span><span class="id identifier rubyid_arity">arity</span>
  <span class="kw">if</span> <span class="ivar">@arity</span> <span class="op">&lt;=</span> <span class="int">0</span>
    <span class="ivar">@context</span> <span class="op">=</span> <span class="id identifier rubyid_eval">eval</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">self</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="id identifier rubyid_block">block</span><span class="period">.</span><span class="id identifier rubyid_binding">binding</span><span class="rparen">)</span>
    <span class="id identifier rubyid_instance_eval">instance_eval</span><span class="lparen">(</span><span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
  <span class="kw">else</span>
    <span class="kw">yield</span> <span class="kw">self</span>
  <span class="kw">end</span>

  <span class="ivar">@parent</span> <span class="op">=</span> <span class="ivar">@doc</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>
<div id="method_missing_details" class="method_details_list">
  <h2 id="Dynamic+Method+Handling">Dynamic Method Handling</h2>
  <p class="notice this">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>
  
    <div class="method_details first">
  <h3 class="signature first" id="method_missing-instance_method">
  
    #<strong>method_missing</strong>(method, *args, &amp;block)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 358</span>

<span class="kw">def</span> <span class="id identifier rubyid_method_missing">method_missing</span><span class="lparen">(</span><span class="id identifier rubyid_method">method</span><span class="comma">,</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span> <span class="comment"># :nodoc:
</span>  <span class="kw">if</span> <span class="ivar">@context</span> <span class="op">&amp;&amp;</span> <span class="ivar">@context</span><span class="period">.</span><span class="id identifier rubyid_respond_to?">respond_to?</span><span class="lparen">(</span><span class="id identifier rubyid_method">method</span><span class="rparen">)</span>
    <span class="ivar">@context</span><span class="period">.</span><span class="id identifier rubyid_send">send</span><span class="lparen">(</span><span class="id identifier rubyid_method">method</span><span class="comma">,</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
  <span class="kw">else</span>
    <span class="id identifier rubyid_node">node</span> <span class="op">=</span> <span class="ivar">@doc</span><span class="period">.</span><span class="id identifier rubyid_create_element">create_element</span><span class="lparen">(</span><span class="id identifier rubyid_method">method</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span><span class="period">.</span><span class="id identifier rubyid_sub">sub</span><span class="lparen">(</span><span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">[_!]$</span><span class="regexp_end">/</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="comma">,</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_n">n</span><span class="op">|</span>
      <span class="comment"># Set up the namespace
</span>      <span class="kw">if</span> <span class="ivar">@ns</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Namespace.html" title="Nokogiri::XML::Namespace (class)">Namespace</a></span></span>
        <span class="id identifier rubyid_n">n</span><span class="period">.</span><span class="id identifier rubyid_namespace">namespace</span> <span class="op">=</span> <span class="ivar">@ns</span>
        <span class="ivar">@ns</span> <span class="op">=</span> <span class="kw">nil</span>
      <span class="kw">end</span>
    <span class="rbrace">}</span>

    <span class="kw">if</span> <span class="ivar">@ns</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span> <span class="const">Hash</span>
      <span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_namespace">namespace</span> <span class="op">=</span> <span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_namespace_definitions">namespace_definitions</span><span class="period">.</span><span class="id identifier rubyid_find">find</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span> <span class="id identifier rubyid_x">x</span><span class="period">.</span><span class="id identifier rubyid_prefix">prefix</span> <span class="op">==</span> <span class="ivar">@ns</span><span class="lbracket">[</span><span class="symbol">:pending</span><span class="rbracket">]</span> <span class="rbrace">}</span>
      <span class="kw">if</span> <span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_namespace">namespace</span><span class="period">.</span><span class="id identifier rubyid_nil?">nil?</span>
        <span class="id identifier rubyid_raise">raise</span> <span class="const">ArgumentError</span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Namespace </span><span class="embexpr_beg">#{</span><span class="ivar">@ns</span><span class="lbracket">[</span><span class="symbol">:pending</span><span class="rbracket">]</span><span class="embexpr_end">}</span><span class="tstring_content"> has not been defined</span><span class="tstring_end">"</span></span>
      <span class="kw">end</span>
      <span class="ivar">@ns</span> <span class="op">=</span> <span class="kw">nil</span>
    <span class="kw">end</span>

    <span class="id identifier rubyid_insert">insert</span><span class="lparen">(</span><span class="id identifier rubyid_node">node</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2 id="Instance+Attribute+Details">Instance Attribute Details</h2>
    
      
      <span id="arity=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="arity-instance_method">
  
    #<strong>arity</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 238</span>

<span class="kw">def</span> <span class="id identifier rubyid_arity">arity</span>
  <span class="ivar">@arity</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="context=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="context-instance_method">
  
    #<strong>context</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A context object for use when the block has no arguments</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 236</span>

<span class="kw">def</span> <span class="id identifier rubyid_context">context</span>
  <span class="ivar">@context</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="doc=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="doc-instance_method">
  
    #<strong>doc</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The current Document object being built</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 230</span>

<span class="kw">def</span> <span class="id identifier rubyid_doc">doc</span>
  <span class="ivar">@doc</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="parent=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="parent-instance_method">
  
    #<strong>parent</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The parent of the current node being built</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 233</span>

<span class="kw">def</span> <span class="id identifier rubyid_parent">parent</span>
  <span class="ivar">@parent</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2 id="Class+Method+Details">Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="with-class_method">
  
    .<strong>with</strong>(root, &amp;block)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a builder with an existing root object.  This is for use when you have an existing document that you would like to augment with builder methods.  The builder context created will start with the given <code>root</code> node.</p>

<p>For example:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="lparen">(</span><span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_read">read</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">somedoc.xml</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="rparen">)</span>
<span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="" title="Nokogiri::XML::Builder (class)">Builder</a></span></span><span class="period">.</span><span class="id identifier rubyid_with">with</span><span class="lparen">(</span><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_at_css">at_css</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">some_tag</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="rparen">)</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_xml">xml</span><span class="op">|</span>
  <span class="comment"># ... Use normal builder methods here ...
</span>  <span class="id identifier rubyid_xml">xml</span><span class="period">.</span><span class="id identifier rubyid_awesome">awesome</span> <span class="comment"># add the "awesome" tag below "some_tag"
</span><span class="kw">end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


254
255
256</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 254</span>

<span class="kw">def</span> <span class="kw">self</span><span class="period">.</span><span class="id identifier rubyid_with">with</span><span class="lparen">(</span><span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
  <span class="id identifier rubyid_new">new</span><span class="lparen">(</span><span class="lbrace">{</span><span class="rbrace">}</span><span class="comma">,</span> <span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2 id="Instance+Method+Details">Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="&lt;&lt;-instance_method">
  
    #<strong>&lt;&lt;</strong>(string)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Append the given raw XML <code>string</code> to the document</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


354
355
356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 354</span>

<span class="kw">def</span> <span class="op">&lt;&lt;</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span>
  <span class="ivar">@doc</span><span class="period">.</span><span class="id identifier rubyid_fragment">fragment</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_children">children</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span> <span class="id identifier rubyid_insert">insert</span><span class="lparen">(</span><span class="id identifier rubyid_x">x</span><span class="rparen">)</span> <span class="rbrace">}</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]-instance_method">
  
    #<strong>[]</strong>(ns)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Build a tag that is associated with namespace <code>ns</code>.  Raises an ArgumentError if <code>ns</code> has not been defined higher in the tree.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325
326
327
328
329
330
331
332
333
334
335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 323</span>

<span class="kw">def</span> <span class="op">[]</span><span class="lparen">(</span><span class="id identifier rubyid_ns">ns</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="ivar">@parent</span> <span class="op">!=</span> <span class="ivar">@doc</span>
    <span class="ivar">@ns</span> <span class="op">=</span> <span class="ivar">@parent</span><span class="period">.</span><span class="id identifier rubyid_namespace_definitions">namespace_definitions</span><span class="period">.</span><span class="id identifier rubyid_find">find</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span> <span class="id identifier rubyid_x">x</span><span class="period">.</span><span class="id identifier rubyid_prefix">prefix</span> <span class="op">==</span> <span class="id identifier rubyid_ns">ns</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="rbrace">}</span>
  <span class="kw">end</span>
  <span class="kw">return</span> <span class="kw">self</span> <span class="kw">if</span> <span class="ivar">@ns</span>

  <span class="ivar">@parent</span><span class="period">.</span><span class="id identifier rubyid_ancestors">ancestors</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_a">a</span><span class="op">|</span>
    <span class="kw">next</span> <span class="kw">if</span> <span class="id identifier rubyid_a">a</span> <span class="op">==</span> <span class="id identifier rubyid_doc">doc</span>
    <span class="ivar">@ns</span> <span class="op">=</span> <span class="id identifier rubyid_a">a</span><span class="period">.</span><span class="id identifier rubyid_namespace_definitions">namespace_definitions</span><span class="period">.</span><span class="id identifier rubyid_find">find</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span> <span class="id identifier rubyid_x">x</span><span class="period">.</span><span class="id identifier rubyid_prefix">prefix</span> <span class="op">==</span> <span class="id identifier rubyid_ns">ns</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="rbrace">}</span>
    <span class="kw">return</span> <span class="kw">self</span> <span class="kw">if</span> <span class="ivar">@ns</span>
  <span class="kw">end</span>

  <span class="ivar">@ns</span> <span class="op">=</span> <span class="lbrace">{</span> <span class="symbol">:pending</span> <span class="op">=&gt;</span> <span class="id identifier rubyid_ns">ns</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="rbrace">}</span>
  <span class="kw">return</span> <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cdata-instance_method">
  
    #<strong>cdata</strong>(string)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a CDATA Node with content of <code>string</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 310</span>

<span class="kw">def</span> <span class="id identifier rubyid_cdata">cdata</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span>
  <span class="id identifier rubyid_insert">insert</span> <span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_create_cdata">create_cdata</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="comment-instance_method">
  
    #<strong>comment</strong>(string)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a Comment Node with content of <code>string</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 316</span>

<span class="kw">def</span> <span class="id identifier rubyid_comment">comment</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span>
  <span class="id identifier rubyid_insert">insert</span> <span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_create_comment">create_comment</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="text-instance_method">
  
    #<strong>text</strong>(string)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a Text Node with content of <code>string</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


304
305
306</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 304</span>

<span class="kw">def</span> <span class="id identifier rubyid_text">text</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span>
  <span class="id identifier rubyid_insert">insert</span> <span class="ivar">@doc</span><span class="period">.</span><span class="id identifier rubyid_create_text_node">create_text_node</span><span class="lparen">(</span><span class="id identifier rubyid_string">string</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_xml-instance_method">
  
    #<strong>to_xml</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convert this Builder object to XML</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


341
342
343
344
345
346
347
348
349
350</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/builder.rb', line 341</span>

<span class="kw">def</span> <span class="id identifier rubyid_to_xml">to_xml</span><span class="lparen">(</span><span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="period">.</span><span class="id identifier rubyid_jruby?"><span class="object_link"><a href="../../Nokogiri.html#jruby%3F-class_method" title="Nokogiri.jruby? (method)">jruby?</a></span></span>
    <span class="id identifier rubyid_options">options</span> <span class="op">=</span> <span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_first">first</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="const">Hash</span><span class="rparen">)</span> <span class="op">?</span> <span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_shift">shift</span> <span class="op">:</span> <span class="lbrace">{</span><span class="rbrace">}</span>
    <span class="kw">if</span> <span class="op">!</span><span class="id identifier rubyid_options">options</span><span class="lbracket">[</span><span class="symbol">:save_with</span><span class="rbracket">]</span>
      <span class="id identifier rubyid_options">options</span><span class="lbracket">[</span><span class="symbol">:save_with</span><span class="rbracket">]</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node/SaveOptions.html#AS_BUILDER-constant" title="Nokogiri::XML::Node::SaveOptions::AS_BUILDER (constant)">AS_BUILDER</a></span></span>
    <span class="kw">end</span>
    <span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_insert">insert</span><span class="lparen">(</span><span class="int">0</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="rparen">)</span>
  <span class="kw">end</span>
  <span class="ivar">@doc</span><span class="period">.</span><span class="id identifier rubyid_to_xml">to_xml</span><span class="lparen">(</span><span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Aug 20 13:55:43 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.1).
</div>

    </div>
  </body>
</html>
