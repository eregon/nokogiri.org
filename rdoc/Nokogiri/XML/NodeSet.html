<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Nokogiri::XML::NodeSet
  
    — Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css">

  <link rel="stylesheet" href="../../css/common.css" type="text/css">

<script type="text/javascript">
  pathId = "Nokogiri::XML::NodeSet";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


      <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1260604-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-1260604-8');
    </script>
</head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (N)</a> »
    <span class="title"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span> » <span class="title"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span>
     » 
    <span class="title">NodeSet</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link" href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content">
<h1 id="Class%3A+Nokogiri%3A%3AXML%3A%3ANodeSet">Class: Nokogiri::XML::NodeSet
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nokogiri::XML::NodeSet</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>Enumerable, <span class="object_link"><a href="Searchable.html" title="Nokogiri::XML::Searchable (module)">Searchable</a></span>
</dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/nokogiri/xml/node_set.rb<span class="defines">,<br>
  ext/nokogiri/xml_node_set.c</span>
</dd>
  </dl>
  
</div>

<h2 id="Overview">Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>A NodeSet contains a list of Nokogiri::XML::Node objects.  Typically a NodeSet is return as a result of searching a Document via Nokogiri::XML::Searchable#css or Nokogiri::XML::Searchable#xpath</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2 id="Constant+Summary">
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="IMPLIED_XPATH_CONTEXTS-constant" class="">IMPLIED_XPATH_CONTEXTS =
          
        </dt>
        <dd><pre class="code"><span class="lbracket">[</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">.//</span><span class="tstring_end">'</span></span><span class="period">.</span><span class="id identifier rubyid_freeze">freeze</span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">self::</span><span class="tstring_end">'</span></span><span class="period">.</span><span class="id identifier rubyid_freeze">freeze</span> <span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_freeze">freeze</span></pre></dd>
      
    </dl>
  




  <h2 id="Instance+Attribute+Summary">Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small>
</h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#document-instance_method" title="#document (instance method)">#<strong>document</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>The Document this NodeSet is associated with.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2 id="Searching+via+XPath+or+CSS+Queries">
      Searching via XPath or CSS Queries
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at_css-instance_method" title="#at_css (instance method)">#<strong>at_css</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class="object_link"><a href="Searchable.html#at_css-instance_method" title="Nokogiri::XML::Searchable#at_css (method)">Searchable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>call-seq: css *rules, [namespace-bindings, custom-pseudo-class].</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at_xpath-instance_method" title="#at_xpath (instance method)">#<strong>at_xpath</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class="object_link"><a href="Searchable.html#at_xpath-instance_method" title="Nokogiri::XML::Searchable#at_xpath (method)">Searchable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>call-seq: xpath *paths, [namespace-bindings, variable-bindings, custom-handler-class].</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search-instance_method" title="#search (instance method)">#<strong>search</strong>(*args)  ⇒ Object </a>
    

    
      (also: #/)
    
  </span>
  
    <span class="note title not_defined_here">
      included
      from <span class="object_link"><a href="Searchable.html#search-instance_method" title="Nokogiri::XML::Searchable#search (method)">Searchable</a></span>
    </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>call-seq: search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class].</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2 id="Instance+Method+Summary">
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#&amp;-instance_method" title="#&amp; (instance method)">#<strong>&amp;</strong>(node_set)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Set Intersection — Returns a new NodeSet containing nodes common to the two NodeSets.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#--instance_method" title="#- (instance method)">#<strong>-</strong>(node_set)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Difference - returns a new NodeSet that is a copy of this NodeSet, removing  each item that also appears in <code>node_set</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#==-instance_method" title="#== (instance method)">#<strong>==</strong>(other)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Equality – Two NodeSets are equal if the contain the same number of elements and if each element is equal to the corresponding element in the other NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#&gt;-instance_method" title="#&gt; (instance method)">#<strong>&gt;</strong>(selector)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Search this NodeSet's nodes' immediate children using CSS selector <code>selector</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">#<strong>[]</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<dl class="rdoc-list label-list">
<dt>start, length
</dt>
<dd>
<p>-&gt; NodeSet or nil  [range] -&gt; NodeSet or nil  slice(index) -&gt; Node or nil  slice(start, length) -&gt; NodeSet or nil  slice(range) -&gt; NodeSet or nil.</p>
</dd>
</dl>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_class-instance_method" title="#add_class (instance method)">#<strong>add_class</strong>(name)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Add the class attribute <code>name</code> to all Node objects in the NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after-instance_method" title="#after (instance method)">#<strong>after</strong>(datum)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Insert <code>datum</code> after the last Node in this NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#append_class-instance_method" title="#append_class (instance method)">#<strong>append_class</strong>(name)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Append the class attribute <code>name</code> to all Node objects in the NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#at-instance_method" title="#at (instance method)">#<strong>at</strong>(*args)  ⇒ Object </a>
    

    
      (also: #%)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>call-seq: search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class].</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attr-instance_method" title="#attr (instance method)">#<strong>attr</strong>(key, value = nil, &amp;block)  ⇒ Object </a>
    

    
      (also: #set, #attribute)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Set attributes on each Node in the NodeSet, or get an attribute from the first Node in the NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before-instance_method" title="#before (instance method)">#<strong>before</strong>(datum)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Insert <code>datum</code> before the first Node in this NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#children-instance_method" title="#children (instance method)">#<strong>children</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Returns a new NodeSet containing all the children of all the nodes in the NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#css-instance_method" title="#css (instance method)">#<strong>css</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>call-seq: css *rules, [namespace-bindings, custom-pseudo-class].</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(node)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Delete <code>node</code> from the Nodeset, if it is a member.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dup-instance_method" title="#dup (instance method)">#<strong>dup</strong>  ⇒ Object </a>
    

    
      (also: #clone)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Duplicate this NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Iterate over each node, yielding  to <code>block</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">#<strong>empty?</strong>  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Is this NodeSet empty?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filter-instance_method" title="#filter (instance method)">#<strong>filter</strong>(expr)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Filter this list for nodes that match <code>expr</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#first-instance_method" title="#first (instance method)">#<strong>first</strong>(n = nil)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the first element of the NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#include%3F-instance_method" title="#include? (instance method)">#<strong>include?</strong>(node)  ⇒ Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Returns true if any member of node set equals <code>node</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index-instance_method" title="#index (instance method)">#<strong>index</strong>(node = nil)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Returns the index of the first node in self that is == to <code>node</code> or meets the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(document, list = []) {|_self| ... } ⇒ NodeSet </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a NodeSet with <code>document</code> defaulting to <code>list</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inner_html-instance_method" title="#inner_html (instance method)">#<strong>inner_html</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the inner html of all contained Node objects.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inner_text-instance_method" title="#inner_text (instance method)">#<strong>inner_text</strong>  ⇒ Object </a>
    

    
      (also: #text)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the inner text of all contained Node objects.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">#<strong>inspect</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Return a nicely formated string representation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last-instance_method" title="#last (instance method)">#<strong>last</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the last element of the NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  ⇒ Object </a>
    

    
      (also: #size)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the length of the node set.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pop-instance_method" title="#pop (instance method)">#<strong>pop</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Removes the last element from set and returns it, or <code>nil</code> if the set is empty.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#push-instance_method" title="#push (instance method)">#<strong>push</strong>(node)  ⇒ Object </a>
    

    
      (also: #&lt;&lt;)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Append <code>node</code> to the NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_attr-instance_method" title="#remove_attr (instance method)">#<strong>remove_attr</strong>(name)  ⇒ Object </a>
    

    
      (also: #remove_attribute)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Remove the attributed named <code>name</code> from all Node objects in the NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_class-instance_method" title="#remove_class (instance method)">#<strong>remove_class</strong>(name = nil)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Remove the class attribute <code>name</code> from all Node objects in the NodeSet.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reverse-instance_method" title="#reverse (instance method)">#<strong>reverse</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Returns a new NodeSet containing all the nodes in the NodeSet in reverse order.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shift-instance_method" title="#shift (instance method)">#<strong>shift</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Returns the first element of the NodeSet and removes it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slice-instance_method" title="#slice (instance method)">#<strong>slice</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<dl class="rdoc-list label-list">
<dt>start, length
</dt>
<dd>
<p>-&gt; NodeSet or nil  [range] -&gt; NodeSet or nil  slice(index) -&gt; Node or nil  slice(start, length) -&gt; NodeSet or nil  slice(range) -&gt; NodeSet or nil.</p>
</dd>
</dl>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_a-instance_method" title="#to_a (instance method)">#<strong>to_a</strong>  ⇒ Object </a>
    

    
      (also: #to_ary)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Return this list as an Array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_html-instance_method" title="#to_html (instance method)">#<strong>to_html</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Convert this NodeSet to HTML.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Convert this NodeSet to a string.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_xhtml-instance_method" title="#to_xhtml (instance method)">#<strong>to_xhtml</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Convert this NodeSet to XHTML.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_xml-instance_method" title="#to_xml (instance method)">#<strong>to_xml</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Convert this NodeSet to XML.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlink-instance_method" title="#unlink (instance method)">#<strong>unlink</strong>  ⇒ Object </a>
    

    
      (also: #remove)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Unlink this NodeSet and all Node objects it contains from their current context.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wrap-instance_method" title="#wrap (instance method)">#<strong>wrap</strong>(html)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Wrap this NodeSet with <code>html</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#xpath-instance_method" title="#xpath (instance method)">#<strong>xpath</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>call-seq: xpath *paths, [namespace-bindings, variable-bindings, custom-handler-class].</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%7C-instance_method" title="#| (instance method)">#<strong>|</strong>(node_set)  ⇒ Object </a>
    

    
      (also: #+)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Returns a new set built by merging the set and the elements of the given set.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  <div id="constructor_details" class="method_details_list">
  <h2 id="Constructor+Details">Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(document, list = []) {|_self| ... } ⇒ <tt><span class="object_link"><a href="" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span></tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a NodeSet with <code>document</code> defaulting to <code>list</code></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class="type">(<tt>_self</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class="name">_self</span>
      
      
        <span class="type">(<tt><span class="object_link"><a href="" title="Nokogiri::XML::NodeSet (class)">Nokogiri::XML::NodeSet</a></span></tt>)</span>
      
      
      
        —
        <div class="inline">
<p>the object that the method was called on</p>
</div>
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 18</span>

<span class="kw">def</span> <span class="id identifier rubyid_initialize">initialize</span> <span class="id identifier rubyid_document">document</span><span class="comma">,</span> <span class="id identifier rubyid_list">list</span> <span class="op">=</span> <span class="lbracket">[</span><span class="rbracket">]</span>
  <span class="ivar">@document</span> <span class="op">=</span> <span class="id identifier rubyid_document">document</span>
  <span class="id identifier rubyid_document">document</span><span class="period">.</span><span class="id identifier rubyid_decorate">decorate</span><span class="lparen">(</span><span class="kw">self</span><span class="rparen">)</span>
  <span class="id identifier rubyid_list">list</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span> <span class="kw">self</span> <span class="op">&lt;&lt;</span> <span class="id identifier rubyid_x">x</span> <span class="rbrace">}</span>
  <span class="kw">yield</span> <span class="kw">self</span> <span class="kw">if</span> <span class="id identifier rubyid_block_given?">block_given?</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2 id="Instance+Attribute+Details">Instance Attribute Details</h2>
    
      
      <span id="document=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="document-instance_method">
  
    #<strong>document</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The Document this NodeSet is associated with</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 13</span>

<span class="kw">def</span> <span class="id identifier rubyid_document">document</span>
  <span class="ivar">@document</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2 id="Instance+Method+Details">Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="&amp;-instance_method">
  
    #<strong>&amp;</strong>(node_set)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set Intersection — Returns a new NodeSet containing nodes common to the two NodeSets.</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 198</span>

static VALUE
intersection(VALUE self, VALUE rb_other)
{
  xmlNodeSetPtr node_set, other ;
  xmlNodeSetPtr intersection;

  if (!rb_obj_is_kind_of(rb_other, cNokogiriXmlNodeSet)) {
    rb_raise(rb_eArgError, "node_set must be a Nokogiri::XML::NodeSet");
  }

  Data_Get_Struct(self, xmlNodeSet, node_set);
  Data_Get_Struct(rb_other, xmlNodeSet, other);

  intersection = xmlXPathIntersection(node_set, other);
  return noko_xml_node_set_wrap(intersection, rb_iv_get(self, "@document"));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="--instance_method">
  
    #<strong>-</strong>(node_set)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Difference - returns a new NodeSet that is a copy of this NodeSet, removing</p>

<pre class="code"><code class="">each item that also appears in +node_set+
</code></pre>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 270</span>

static VALUE
minus(VALUE self, VALUE rb_other)
{
  xmlNodeSetPtr node_set, other;
  xmlNodeSetPtr new;
  int j ;

  if (!rb_obj_is_kind_of(rb_other, cNokogiriXmlNodeSet)) {
    rb_raise(rb_eArgError, "node_set must be a Nokogiri::XML::NodeSet");
  }

  Data_Get_Struct(self, xmlNodeSet, node_set);
  Data_Get_Struct(rb_other, xmlNodeSet, other);

  new = xmlXPathNodeSetMerge(NULL, node_set);
  for (j = 0 ; j &lt; other-&gt;nodeNr ; ++j) {
    xpath_node_set_del(new, other-&gt;nodeTab[j]);
  }

  return noko_xml_node_set_wrap(new, rb_iv_get(self, "@document"));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="==-instance_method">
  
    #<strong>==</strong>(other)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Equality – Two NodeSets are equal if the contain the same number of elements and if each element is equal to the corresponding element in the other NodeSet</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


328
329
330
331
332
333
334
335</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 328</span>

<span class="kw">def</span> <span class="op">==</span> <span class="id identifier rubyid_other">other</span>
  <span class="kw">return</span> <span class="kw">false</span> <span class="kw">unless</span> <span class="id identifier rubyid_other">other</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span></span><span class="rparen">)</span>
  <span class="kw">return</span> <span class="kw">false</span> <span class="kw">unless</span> <span class="id identifier rubyid_length">length</span> <span class="op">==</span> <span class="id identifier rubyid_other">other</span><span class="period">.</span><span class="id identifier rubyid_length">length</span>
  <span class="id identifier rubyid_each_with_index">each_with_index</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_node">node</span><span class="comma">,</span> <span class="id identifier rubyid_i">i</span><span class="op">|</span>
    <span class="kw">return</span> <span class="kw">false</span> <span class="kw">unless</span> <span class="id identifier rubyid_node">node</span> <span class="op">==</span> <span class="id identifier rubyid_other">other</span><span class="lbracket">[</span><span class="id identifier rubyid_i">i</span><span class="rbracket">]</span>
  <span class="kw">end</span>
  <span class="kw">true</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="&gt;-instance_method">
  
    #<strong>&gt;</strong>(selector)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Search this NodeSet's nodes' immediate children using CSS selector <code>selector</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 106</span>

<span class="kw">def</span> <span class="op">&gt;</span> <span class="id identifier rubyid_selector">selector</span>
  <span class="id identifier rubyid_ns">ns</span> <span class="op">=</span> <span class="id identifier rubyid_document">document</span><span class="period">.</span><span class="id identifier rubyid_root">root</span><span class="period">.</span><span class="id identifier rubyid_namespaces">namespaces</span>
  <span class="id identifier rubyid_xpath">xpath</span> <span class="const"><span class="object_link"><a href="../CSS.html" title="Nokogiri::CSS (module)">CSS</a></span></span><span class="period">.</span><span class="id identifier rubyid_xpath_for"><span class="object_link"><a href="../CSS.html#xpath_for-class_method" title="Nokogiri::CSS.xpath_for (method)">xpath_for</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_selector">selector</span><span class="comma">,</span> <span class="symbol">:prefix</span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">./</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="symbol">:ns</span> <span class="op">=&gt;</span> <span class="id identifier rubyid_ns">ns</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_first">first</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]-instance_method">
  
    #<strong>[]</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    <dl class="rdoc-list label-list">
<dt>start, length
</dt>
<dd>
<p>-&gt; NodeSet or nil</p>
</dd>
<dt>range
</dt>
<dd>
<p>-&gt; NodeSet or nil</p>
</dd>
</dl>

<pre class="code"><code class="">slice(index) -&gt; Node or nil
slice(start, length) -&gt; NodeSet or nil
slice(range) -&gt; NodeSet or nil
</code></pre>

<p>Element reference - returns the node at <code>index</code>, or returns a NodeSet containing nodes starting at <code>start</code> and continuing for <code>length</code> elements, or returns a NodeSet containing nodes specified by <code>range</code>. Negative <code>indices</code> count backward from the end of the <code>node_set</code> (-1 is the last node). Returns nil if the <code>index</code> (or <code>start</code>) are out of range.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 347</span>

static VALUE
slice(int argc, VALUE *argv, VALUE self)
{
  VALUE arg ;
  long beg, len ;
  xmlNodeSetPtr node_set;

  Data_Get_Struct(self, xmlNodeSet, node_set);

  if (argc == 2) {
    beg = NUM2LONG(argv[0]);
    len = NUM2LONG(argv[1]);
    if (beg &lt; 0) {
      beg += node_set-&gt;nodeNr ;
    }
    return subseq(self, beg, len);
  }

  if (argc != 1) {
    rb_scan_args(argc, argv, "11", NULL, NULL);
  }
  arg = argv[0];

  if (FIXNUM_P(arg)) {
    return index_at(self, FIX2LONG(arg));
  }

  /* if arg is Range */
  switch (rb_range_beg_len(arg, &amp;beg, &amp;len, (long)node_set-&gt;nodeNr, 0)) {
    case Qfalse:
      break;
    case Qnil:
      return Qnil;
    default:
      return subseq(self, beg, len);
  }

  return index_at(self, NUM2LONG(arg));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_class-instance_method">
  
    #<strong>add_class</strong>(name)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Add the class attribute <code>name</code> to all Node objects in the NodeSet.</p>

<p>See Nokogiri::XML::Node#add_class for more information.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 143</span>

<span class="kw">def</span> <span class="id identifier rubyid_add_class">add_class</span> <span class="id identifier rubyid_name">name</span>
  <span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_el">el</span><span class="op">|</span>
    <span class="id identifier rubyid_el">el</span><span class="period">.</span><span class="id identifier rubyid_add_class">add_class</span><span class="lparen">(</span><span class="id identifier rubyid_name">name</span><span class="rparen">)</span>
  <span class="kw">end</span>
  <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="after-instance_method">
  
    #<strong>after</strong>(datum)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Insert <code>datum</code> after the last Node in this NodeSet</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 66</span>

<span class="kw">def</span> <span class="id identifier rubyid_after">after</span> <span class="id identifier rubyid_datum">datum</span>
  <span class="id identifier rubyid_last">last</span><span class="period">.</span><span class="id identifier rubyid_after">after</span> <span class="id identifier rubyid_datum">datum</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="append_class-instance_method">
  
    #<strong>append_class</strong>(name)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Append the class attribute <code>name</code> to all Node objects in the NodeSet.</p>

<p>See Nokogiri::XML::Node#append_class for more information.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157
158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 155</span>

<span class="kw">def</span> <span class="id identifier rubyid_append_class">append_class</span> <span class="id identifier rubyid_name">name</span>
  <span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_el">el</span><span class="op">|</span>
    <span class="id identifier rubyid_el">el</span><span class="period">.</span><span class="id identifier rubyid_append_class">append_class</span><span class="lparen">(</span><span class="id identifier rubyid_name">name</span><span class="rparen">)</span>
  <span class="kw">end</span>
  <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="at-instance_method">
  
    #<strong>at</strong>(*args)  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="%-instance_method">%</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>call-seq: search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class]</p>

<p>Search this object for <code>paths</code>, and return only the first result. <code>paths</code> must be one or more XPath or CSS queries.</p>

<p>See Searchable#search for more information.</p>

<p>Or, if passed an integer, index into the NodeSet:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node_set">node_set</span><span class="period">.</span><span class="id identifier rubyid_at">at</span><span class="lparen">(</span><span class="int">3</span><span class="rparen">)</span> <span class="comment"># same as node_set[3]
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 123</span>

<span class="kw">def</span> <span class="id identifier rubyid_at">at</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span>
  <span class="kw">if</span> <span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_length">length</span> <span class="op">==</span> <span class="int">1</span> <span class="op">&amp;&amp;</span> <span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_first">first</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="const">Numeric</span><span class="rparen">)</span>
    <span class="kw">return</span> <span class="kw">self</span><span class="lbracket">[</span><span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_first">first</span><span class="rbracket">]</span>
  <span class="kw">end</span>

  <span class="kw">super</span><span class="lparen">(</span><span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="at_css-instance_method">
  
    #<strong>at_css</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class="object_link"><a href="Searchable.html#at_css-instance_method" title="Nokogiri::XML::Searchable#at_css (method)">Searchable</a></span>
    </span>
  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>call-seq: css *rules, [namespace-bindings, custom-pseudo-class]</p>

<p>Search this object for CSS <code>rules</code>, and return only the first match. <code>rules</code> must be one or more CSS selectors.</p>

<p>See Searchable#css for more information.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="at_xpath-instance_method">
  
    #<strong>at_xpath</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class="object_link"><a href="Searchable.html#at_xpath-instance_method" title="Nokogiri::XML::Searchable#at_xpath (method)">Searchable</a></span>
    </span>
  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>call-seq: xpath *paths, [namespace-bindings, variable-bindings, custom-handler-class]</p>

<p>Search this node for XPath <code>paths</code>, and return only the first match. <code>paths</code> must be one or more XPath queries.</p>

<p>See Searchable#xpath for more information.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="attr-instance_method">
  
    #<strong>attr</strong>(key, value = nil, &amp;block)  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="set-instance_method">set</span>, <span id="attribute-instance_method">attribute</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set attributes on each Node in the NodeSet, or get an attribute from the first Node in the NodeSet.</p>

<p>To get an attribute from the first Node in a NodeSet:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node_set">node_set</span><span class="period">.</span><span class="id identifier rubyid_attr">attr</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">href</span><span class="tstring_end">"</span></span><span class="rparen">)</span> <span class="comment"># =&gt; "https://www.nokogiri.org"
</span></code></pre>

<p>Note that an empty NodeSet will return nil when <code>#attr</code> is called as a getter.</p>

<p>To set an attribute on each node, <code>key</code> can either be an attribute name, or a Hash of attribute names and values. When called as a setter, <code>#attr</code> returns the NodeSet.</p>

<p>If <code>key</code> is an attribute name, then either <code>value</code> or <code>block</code> must be passed.</p>

<p>If <code>key</code> is a Hash then attributes will be set for each key/value pair:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node_set">node_set</span><span class="period">.</span><span class="id identifier rubyid_attr">attr</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">href</span><span class="tstring_end">"</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">https://www.nokogiri.org</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">class</span><span class="tstring_end">"</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">member</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
</code></pre>

<p>If <code>value</code> is passed, it will be used as the attribute value for all nodes:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node_set">node_set</span><span class="period">.</span><span class="id identifier rubyid_attr">attr</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">href</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">https://www.nokogiri.org</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
</code></pre>

<p>If <code>block</code> is passed, it will be called on each Node object in the NodeSet and the return value used as the attribute value for that node:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node_set">node_set</span><span class="period">.</span><span class="id identifier rubyid_attr">attr</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">class</span><span class="tstring_end">"</span></span><span class="rparen">)</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_node">node</span><span class="op">|</span> <span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_name">name</span> <span class="rbrace">}</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209
210
211
212
213
214
215
216
217
218
219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 207</span>

<span class="kw">def</span> <span class="id identifier rubyid_attr">attr</span> <span class="id identifier rubyid_key">key</span><span class="comma">,</span> <span class="id identifier rubyid_value">value</span> <span class="op">=</span> <span class="kw">nil</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span>
  <span class="kw">unless</span> <span class="id identifier rubyid_key">key</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="const">Hash</span><span class="rparen">)</span> <span class="op">||</span> <span class="lparen">(</span><span class="id identifier rubyid_key">key</span> <span class="op">&amp;&amp;</span> <span class="lparen">(</span><span class="id identifier rubyid_value">value</span> <span class="op">||</span> <span class="id identifier rubyid_block">block</span><span class="rparen">)</span><span class="rparen">)</span>
    <span class="kw">return</span> <span class="id identifier rubyid_first">first</span> <span class="op">?</span> <span class="id identifier rubyid_first">first</span><span class="period">.</span><span class="id identifier rubyid_attribute">attribute</span><span class="lparen">(</span><span class="id identifier rubyid_key">key</span><span class="rparen">)</span> <span class="op">:</span> <span class="kw">nil</span>
  <span class="kw">end</span>

  <span class="id identifier rubyid_hash">hash</span> <span class="op">=</span> <span class="id identifier rubyid_key">key</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="const">Hash</span><span class="rparen">)</span> <span class="op">?</span> <span class="id identifier rubyid_key">key</span> <span class="op">:</span> <span class="lbrace">{</span> <span class="id identifier rubyid_key">key</span> <span class="op">=&gt;</span> <span class="id identifier rubyid_value">value</span> <span class="rbrace">}</span>

  <span class="id identifier rubyid_hash">hash</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_k">k</span><span class="comma">,</span><span class="id identifier rubyid_v">v</span><span class="op">|</span>
    <span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_node">node</span><span class="op">|</span>
      <span class="id identifier rubyid_node">node</span><span class="lbracket">[</span><span class="id identifier rubyid_k">k</span><span class="rbracket">]</span> <span class="op">=</span> <span class="id identifier rubyid_v">v</span> <span class="op">||</span> <span class="id identifier rubyid_block">block</span><span class="period">.</span><span class="id identifier rubyid_call">call</span><span class="lparen">(</span><span class="id identifier rubyid_node">node</span><span class="rparen">)</span>
    <span class="kw">end</span>
  <span class="kw">end</span>

  <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="before-instance_method">
  
    #<strong>before</strong>(datum)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Insert <code>datum</code> before the first Node in this NodeSet</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 60</span>

<span class="kw">def</span> <span class="id identifier rubyid_before">before</span> <span class="id identifier rubyid_datum">datum</span>
  <span class="id identifier rubyid_first">first</span><span class="period">.</span><span class="id identifier rubyid_before">before</span> <span class="id identifier rubyid_datum">datum</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="children-instance_method">
  
    #<strong>children</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new NodeSet containing all the children of all the nodes in the NodeSet</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


340
341
342
343
344
345
346</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 340</span>

<span class="kw">def</span> <span class="id identifier rubyid_children">children</span>
  <span class="id identifier rubyid_node_set">node_set</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::NodeSet#initialize (method)">new</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_document">document</span><span class="rparen">)</span>
  <span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_node">node</span><span class="op">|</span>
    <span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_children">children</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_n">n</span><span class="op">|</span> <span class="id identifier rubyid_node_set">node_set</span><span class="period">.</span><span class="id identifier rubyid_push">push</span><span class="lparen">(</span><span class="id identifier rubyid_n">n</span><span class="rparen">)</span> <span class="rbrace">}</span>
  <span class="kw">end</span>
  <span class="id identifier rubyid_node_set">node_set</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="css-instance_method">
  
    #<strong>css</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>call-seq: css *rules, [namespace-bindings, custom-pseudo-class]</p>

<p>Search this node set for CSS <code>rules</code>. <code>rules</code> must be one or more CSS selectors. For example:</p>

<p>For more information see Nokogiri::XML::Searchable#css</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82
83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 80</span>

<span class="kw">def</span> <span class="id identifier rubyid_css">css</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span>
  <span class="id identifier rubyid_rules">rules</span><span class="comma">,</span> <span class="id identifier rubyid_handler">handler</span><span class="comma">,</span> <span class="id identifier rubyid_ns">ns</span><span class="comma">,</span> <span class="id identifier rubyid__">_</span> <span class="op">=</span> <span class="id identifier rubyid_extract_params">extract_params</span><span class="lparen">(</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span>
  <span class="id identifier rubyid_paths">paths</span> <span class="op">=</span> <span class="id identifier rubyid_css_rules_to_xpath">css_rules_to_xpath</span><span class="lparen">(</span><span class="id identifier rubyid_rules">rules</span><span class="comma">,</span> <span class="id identifier rubyid_ns">ns</span><span class="rparen">)</span>

  <span class="id identifier rubyid_inject">inject</span><span class="lparen">(</span><span class="const"><span class="object_link"><a href="" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::NodeSet#initialize (method)">new</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_document">document</span><span class="rparen">)</span><span class="rparen">)</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_set">set</span><span class="comma">,</span> <span class="id identifier rubyid_node">node</span><span class="op">|</span>
    <span class="id identifier rubyid_set">set</span> <span class="op">+</span> <span class="id identifier rubyid_xpath_internal">xpath_internal</span><span class="lparen">(</span><span class="id identifier rubyid_node">node</span><span class="comma">,</span> <span class="id identifier rubyid_paths">paths</span><span class="comma">,</span> <span class="id identifier rubyid_handler">handler</span><span class="comma">,</span> <span class="id identifier rubyid_ns">ns</span><span class="comma">,</span> <span class="kw">nil</span><span class="rparen">)</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete-instance_method">
  
    #<strong>delete</strong>(node)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Delete <code>node</code> from the Nodeset, if it is a member. Returns the deleted node if found, otherwise returns nil.</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 173</span>

static VALUE
delete (VALUE self, VALUE rb_node)
{
  xmlNodeSetPtr node_set;
  xmlNodePtr node;

  Check_Node_Set_Node_Type(rb_node);

  Data_Get_Struct(self, xmlNodeSet, node_set);
  Data_Get_Struct(rb_node, xmlNode, node);

  if (xmlXPathNodeSetContains(node_set, node)) {
    xpath_node_set_del(node_set, node);
    return rb_node;
  }
  return Qnil ;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dup-instance_method">
  
    #<strong>dup</strong>  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="clone-instance_method">clone</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Duplicate this NodeSet. Note that the Nodes contained in the NodeSet are not duplicated (similar to how Array and other Enumerable classes work).</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 115</span>

static VALUE
duplicate(VALUE self)
{
  xmlNodeSetPtr node_set;
  xmlNodeSetPtr dupl;

  Data_Get_Struct(self, xmlNodeSet, node_set);

  dupl = xmlXPathNodeSetMerge(NULL, node_set);

  return noko_xml_node_set_wrap(dupl, rb_iv_get(self, "@document"));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each-instance_method">
  
    #<strong>each</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Iterate over each node, yielding  to <code>block</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


235
236
237
238
239
240
241
242</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 235</span>

<span class="kw">def</span> <span class="id identifier rubyid_each">each</span>
  <span class="kw">return</span> <span class="id identifier rubyid_to_enum">to_enum</span> <span class="kw">unless</span> <span class="id identifier rubyid_block_given?">block_given?</span>

  <span class="int">0</span><span class="period">.</span><span class="id identifier rubyid_upto">upto</span><span class="lparen">(</span><span class="id identifier rubyid_length">length</span> <span class="op">-</span> <span class="int">1</span><span class="rparen">)</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span>
    <span class="kw">yield</span> <span class="kw">self</span><span class="lbracket">[</span><span class="id identifier rubyid_x">x</span><span class="rbracket">]</span>
  <span class="kw">end</span>
  <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty?-instance_method">
  
    #<strong>empty?</strong>  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Is this NodeSet empty?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 42</span>

<span class="kw">def</span> <span class="id identifier rubyid_empty?">empty?</span>
  <span class="id identifier rubyid_length">length</span> <span class="op">==</span> <span class="int">0</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filter-instance_method">
  
    #<strong>filter</strong>(expr)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Filter this list for nodes that match <code>expr</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 134</span>

<span class="kw">def</span> <span class="id identifier rubyid_filter">filter</span> <span class="id identifier rubyid_expr">expr</span>
  <span class="id identifier rubyid_find_all">find_all</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_node">node</span><span class="op">|</span> <span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_matches?">matches?</span><span class="lparen">(</span><span class="id identifier rubyid_expr">expr</span><span class="rparen">)</span> <span class="rbrace">}</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="first-instance_method">
  
    #<strong>first</strong>(n = nil)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the first element of the NodeSet.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 27</span>

<span class="kw">def</span> <span class="id identifier rubyid_first">first</span> <span class="id identifier rubyid_n">n</span> <span class="op">=</span> <span class="kw">nil</span>
  <span class="kw">return</span> <span class="kw">self</span><span class="lbracket">[</span><span class="int">0</span><span class="rbracket">]</span> <span class="kw">unless</span> <span class="id identifier rubyid_n">n</span>
  <span class="id identifier rubyid_list">list</span> <span class="op">=</span> <span class="lbracket">[</span><span class="rbracket">]</span>
  <span class="lbracket">[</span><span class="id identifier rubyid_n">n</span><span class="comma">,</span> <span class="id identifier rubyid_length">length</span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_min">min</span><span class="period">.</span><span class="id identifier rubyid_times">times</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_i">i</span><span class="op">|</span> <span class="id identifier rubyid_list">list</span> <span class="op">&lt;&lt;</span> <span class="kw">self</span><span class="lbracket">[</span><span class="id identifier rubyid_i">i</span><span class="rbracket">]</span> <span class="rbrace">}</span>
  <span class="id identifier rubyid_list">list</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="include?-instance_method">
  
    #<strong>include?</strong>(node)  ⇒ <tt>Boolean</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns true if any member of node set equals <code>node</code>.</p>


  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224
225
226
227
228
229
230
231
232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 222</span>

static VALUE
include_eh(VALUE self, VALUE rb_node)
{
  xmlNodeSetPtr node_set;
  xmlNodePtr node;

  Check_Node_Set_Node_Type(rb_node);

  Data_Get_Struct(self, xmlNodeSet, node_set);
  Data_Get_Struct(rb_node, xmlNode, node);

  return (xmlXPathNodeSetContains(node_set, node) ? Qtrue : Qfalse);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="index-instance_method">
  
    #<strong>index</strong>(node = nil)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the index of the first node in self that is == to <code>node</code> or meets the given block. Returns nil if no match is found.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51
52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 48</span>

<span class="kw">def</span> <span class="id identifier rubyid_index">index</span><span class="lparen">(</span><span class="id identifier rubyid_node">node</span> <span class="op">=</span> <span class="kw">nil</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="id identifier rubyid_node">node</span>
    <span class="id identifier rubyid_warn">warn</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">given block not used</span><span class="tstring_end">"</span></span> <span class="kw">if</span> <span class="id identifier rubyid_block_given?">block_given?</span>
    <span class="id identifier rubyid_each_with_index">each_with_index</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_member">member</span><span class="comma">,</span> <span class="id identifier rubyid_j">j</span><span class="op">|</span> <span class="kw">return</span> <span class="id identifier rubyid_j">j</span> <span class="kw">if</span> <span class="id identifier rubyid_member">member</span> <span class="op">==</span> <span class="id identifier rubyid_node">node</span> <span class="rbrace">}</span>
  <span class="kw">elsif</span> <span class="id identifier rubyid_block_given?">block_given?</span>
    <span class="id identifier rubyid_each_with_index">each_with_index</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_member">member</span><span class="comma">,</span> <span class="id identifier rubyid_j">j</span><span class="op">|</span> <span class="kw">return</span> <span class="id identifier rubyid_j">j</span> <span class="kw">if</span> <span class="kw">yield</span><span class="lparen">(</span><span class="id identifier rubyid_member">member</span><span class="rparen">)</span> <span class="rbrace">}</span>
  <span class="kw">end</span>
  <span class="kw">nil</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inner_html-instance_method">
  
    #<strong>inner_html</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the inner html of all contained Node objects</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 264</span>

<span class="kw">def</span> <span class="id identifier rubyid_inner_html">inner_html</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span>
  <span class="id identifier rubyid_collect">collect</span><span class="lbrace">{</span><span class="op">|</span><span class="id identifier rubyid_j">j</span><span class="op">|</span> <span class="id identifier rubyid_j">j</span><span class="period">.</span><span class="id identifier rubyid_inner_html">inner_html</span><span class="lparen">(</span><span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span> <span class="rbrace">}</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inner_text-instance_method">
  
    #<strong>inner_text</strong>  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="text-instance_method">text</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the inner text of all contained Node objects</p>

<p>Note: This joins the text of all Node objects in the NodeSet:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">&lt;xml&gt;&lt;a&gt;&lt;d&gt;foo&lt;/d&gt;&lt;d&gt;bar&lt;/d&gt;&lt;/a&gt;&lt;/xml&gt;</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
<span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_css">css</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">d</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_text">text</span> <span class="comment"># =&gt; "foobar"
</span></code></pre>

<p>Instead, if you want to return the text of all nodes in the NodeSet:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_css">css</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">d</span><span class="tstring_end">'</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_map">map</span><span class="lparen">(</span><span class="op">&amp;</span><span class="symbol">:text</span><span class="rparen">)</span> <span class="comment"># =&gt; ["foo", "bar"]
</span></code></pre>

<p>See Nokogiri::XML::Node#content for more information.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


257
258
259</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 257</span>

<span class="kw">def</span> <span class="id identifier rubyid_inner_text">inner_text</span>
  <span class="id identifier rubyid_collect">collect</span><span class="lparen">(</span><span class="op">&amp;</span><span class="symbol">:inner_text</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_end">'</span></span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    #<strong>inspect</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return a nicely formated string representation</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


361
362
363</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 361</span>

<span class="kw">def</span> <span class="id identifier rubyid_inspect">inspect</span>
  <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">[</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_map">map</span><span class="lparen">(</span><span class="op">&amp;</span><span class="symbol">:inspect</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_join">join</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">, </span><span class="tstring_end">'</span></span><span class="embexpr_end">}</span><span class="tstring_content">]</span><span class="tstring_end">"</span></span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last-instance_method">
  
    #<strong>last</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the last element of the NodeSet.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 36</span>

<span class="kw">def</span> <span class="id identifier rubyid_last">last</span>
  <span class="kw">self</span><span class="lbracket">[</span><span class="op">-</span><span class="int">1</span><span class="rbracket">]</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="length-instance_method">
  
    #<strong>length</strong>  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="size-instance_method">size</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the length of the node set</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 134</span>

static VALUE
length(VALUE self)
{
  xmlNodeSetPtr node_set;

  Data_Get_Struct(self, xmlNodeSet, node_set);

  return node_set ? INT2NUM(node_set-&gt;nodeNr) : INT2NUM(0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pop-instance_method">
  
    #<strong>pop</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Removes the last element from set and returns it, or <code>nil</code> if the set is empty</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


311
312
313
314</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 311</span>

<span class="kw">def</span> <span class="id identifier rubyid_pop">pop</span>
  <span class="kw">return</span> <span class="kw">nil</span> <span class="kw">if</span> <span class="id identifier rubyid_length">length</span> <span class="op">==</span> <span class="int">0</span>
  <span class="id identifier rubyid_delete">delete</span> <span class="id identifier rubyid_last">last</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="push-instance_method">
  
    #<strong>push</strong>(node)  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="&lt;&lt;-instance_method">&lt;&lt;</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Append <code>node</code> to the NodeSet.</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156
157
158
159
160
161
162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 150</span>

static VALUE
push(VALUE self, VALUE rb_node)
{
  xmlNodeSetPtr node_set;
  xmlNodePtr node;

  Check_Node_Set_Node_Type(rb_node);

  Data_Get_Struct(self, xmlNodeSet, node_set);
  Data_Get_Struct(rb_node, xmlNode, node);

  xmlXPathNodeSetAdd(node_set, node);

  return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_attr-instance_method">
  
    #<strong>remove_attr</strong>(name)  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="remove_attribute-instance_method">remove_attribute</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Remove the attributed named <code>name</code> from all Node objects in the NodeSet</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227
228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 227</span>

<span class="kw">def</span> <span class="id identifier rubyid_remove_attr">remove_attr</span> <span class="id identifier rubyid_name">name</span>
  <span class="id identifier rubyid_each">each</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_el">el</span><span class="op">|</span> <span class="id identifier rubyid_el">el</span><span class="period">.</span><span class="id identifier rubyid_delete">delete</span> <span class="id identifier rubyid_name">name</span> <span class="rbrace">}</span>
  <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_class-instance_method">
  
    #<strong>remove_class</strong>(name = nil)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Remove the class attribute <code>name</code> from all Node objects in the NodeSet.</p>

<p>See Nokogiri::XML::Node#remove_class for more information.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 167</span>

<span class="kw">def</span> <span class="id identifier rubyid_remove_class">remove_class</span> <span class="id identifier rubyid_name">name</span> <span class="op">=</span> <span class="kw">nil</span>
  <span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_el">el</span><span class="op">|</span>
    <span class="id identifier rubyid_el">el</span><span class="period">.</span><span class="id identifier rubyid_remove_class">remove_class</span><span class="lparen">(</span><span class="id identifier rubyid_name">name</span><span class="rparen">)</span>
  <span class="kw">end</span>
  <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reverse-instance_method">
  
    #<strong>reverse</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new NodeSet containing all the nodes in the NodeSet in reverse order</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


351
352
353
354
355
356
357</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 351</span>

<span class="kw">def</span> <span class="id identifier rubyid_reverse">reverse</span>
  <span class="id identifier rubyid_node_set">node_set</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::NodeSet#initialize (method)">new</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_document">document</span><span class="rparen">)</span>
  <span class="lparen">(</span><span class="id identifier rubyid_length">length</span> <span class="op">-</span> <span class="int">1</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_downto">downto</span><span class="lparen">(</span><span class="int">0</span><span class="rparen">)</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span>
    <span class="id identifier rubyid_node_set">node_set</span><span class="period">.</span><span class="id identifier rubyid_push">push</span> <span class="kw">self</span><span class="lbracket">[</span><span class="id identifier rubyid_x">x</span><span class="rbracket">]</span>
  <span class="kw">end</span>
  <span class="id identifier rubyid_node_set">node_set</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="search-instance_method">
  
    #<strong>search</strong>(*args)  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="/-instance_method">/</span></span>
    </span>
  

  
    <span class="not_defined_here">
      Originally defined in module
        <span class="object_link"><a href="Searchable.html#search-instance_method" title="Nokogiri::XML::Searchable#search (method)">Searchable</a></span>
    </span>
  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>call-seq: search *paths, [namespace-bindings, xpath-variable-bindings, custom-handler-class]</p>

<p>Search this object for <code>paths</code>. <code>paths</code> must be one or more XPath or CSS queries:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_search">search</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">div.employee</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">.//title</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
</code></pre>

<p>A hash of namespace bindings may be appended:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_search">search</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">.//bike:tire</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="lbrace">{</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">bike</span><span class="tstring_end">'</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">http://schwinn.com/</span><span class="tstring_end">'</span></span><span class="rbrace">}</span><span class="rparen">)</span>
<span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_search">search</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">bike|tire</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="lbrace">{</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">bike</span><span class="tstring_end">'</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">http://schwinn.com/</span><span class="tstring_end">'</span></span><span class="rbrace">}</span><span class="rparen">)</span>
</code></pre>

<p>For XPath queries, a hash of variable bindings may also be appended to the namespace bindings. For example:</p>

<pre class="code ruby"><code class="ruby"><span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_search">search</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">.//address[@domestic=$value]</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="kw">nil</span><span class="comma">,</span> <span class="lbrace">{</span><span class="symbol">:value</span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">Yes</span><span class="tstring_end">'</span></span><span class="rbrace">}</span><span class="rparen">)</span>
</code></pre>

<p>Custom XPath functions and CSS pseudo-selectors may also be defined. To define custom functions create a class and implement the function you want to define.  The first argument to the method will be the current matching NodeSet.  Any other arguments are ones that you pass in.  Note that this class may appear anywhere in the argument list.  For example:</p>

<pre class="code ruby"><code class="ruby">node.search('.//title[regex(., "\w+")]', 'div.employee:regex("[0-9]+")'
  Class.new {
    def regex node_set, regex
      node_set.find_all { |node| node['some_attribute'] =~ /#{regex}/ }
    end
  }.new
)
</code></pre>

<p>See Searchable#xpath and Searchable#css for further usage help.</p>


  </div>
</div>
<div class="tags">
  

</div>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shift-instance_method">
  
    #<strong>shift</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns the first element of the NodeSet and removes it.  Returns <code>nil</code> if the set is empty.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


319
320
321
322</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 319</span>

<span class="kw">def</span> <span class="id identifier rubyid_shift">shift</span>
  <span class="kw">return</span> <span class="kw">nil</span> <span class="kw">if</span> <span class="id identifier rubyid_length">length</span> <span class="op">==</span> <span class="int">0</span>
  <span class="id identifier rubyid_delete">delete</span> <span class="id identifier rubyid_first">first</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slice-instance_method">
  
    #<strong>slice</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    <dl class="rdoc-list label-list">
<dt>start, length
</dt>
<dd>
<p>-&gt; NodeSet or nil</p>
</dd>
<dt>range
</dt>
<dd>
<p>-&gt; NodeSet or nil</p>
</dd>
</dl>

<pre class="code"><code class="">slice(index) -&gt; Node or nil
slice(start, length) -&gt; NodeSet or nil
slice(range) -&gt; NodeSet or nil
</code></pre>

<p>Element reference - returns the node at <code>index</code>, or returns a NodeSet containing nodes starting at <code>start</code> and continuing for <code>length</code> elements, or returns a NodeSet containing nodes specified by <code>range</code>. Negative <code>indices</code> count backward from the end of the <code>node_set</code> (-1 is the last node). Returns nil if the <code>index</code> (or <code>start</code>) are out of range.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 347</span>

static VALUE
slice(int argc, VALUE *argv, VALUE self)
{
  VALUE arg ;
  long beg, len ;
  xmlNodeSetPtr node_set;

  Data_Get_Struct(self, xmlNodeSet, node_set);

  if (argc == 2) {
    beg = NUM2LONG(argv[0]);
    len = NUM2LONG(argv[1]);
    if (beg &lt; 0) {
      beg += node_set-&gt;nodeNr ;
    }
    return subseq(self, beg, len);
  }

  if (argc != 1) {
    rb_scan_args(argc, argv, "11", NULL, NULL);
  }
  arg = argv[0];

  if (FIXNUM_P(arg)) {
    return index_at(self, FIX2LONG(arg));
  }

  /* if arg is Range */
  switch (rb_range_beg_len(arg, &amp;beg, &amp;len, (long)node_set-&gt;nodeNr, 0)) {
    case Qfalse:
      break;
    case Qnil:
      return Qnil;
    default:
      return subseq(self, beg, len);
  }

  return index_at(self, NUM2LONG(arg));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_a-instance_method">
  
    #<strong>to_a</strong>  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="to_ary-instance_method">to_ary</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Return this list as an Array</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 394</span>

static VALUE
to_array(VALUE self)
{
  xmlNodeSetPtr node_set ;
  VALUE list;
  int i;

  Data_Get_Struct(self, xmlNodeSet, node_set);

  list = rb_ary_new2(node_set-&gt;nodeNr);
  for (i = 0; i &lt; node_set-&gt;nodeNr; i++) {
    VALUE elt = noko_xml_node_wrap_node_set_result(node_set-&gt;nodeTab[i], self);
    rb_ary_push(list, elt);
  }

  return list;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_html-instance_method">
  
    #<strong>to_html</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convert this NodeSet to HTML</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


282
283
284
285
286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 282</span>

<span class="kw">def</span> <span class="id identifier rubyid_to_html">to_html</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span>
  <span class="kw">if</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="period">.</span><span class="id identifier rubyid_jruby?"><span class="object_link"><a href="../../Nokogiri.html#jruby%3F-class_method" title="Nokogiri.jruby? (method)">jruby?</a></span></span>
    <span class="id identifier rubyid_options">options</span> <span class="op">=</span> <span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_first">first</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="const">Hash</span><span class="rparen">)</span> <span class="op">?</span> <span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_shift">shift</span> <span class="op">:</span> <span class="lbrace">{</span><span class="rbrace">}</span>
    <span class="kw">if</span> <span class="op">!</span><span class="id identifier rubyid_options">options</span><span class="lbracket">[</span><span class="symbol">:save_with</span><span class="rbracket">]</span>
      <span class="id identifier rubyid_options">options</span><span class="lbracket">[</span><span class="symbol">:save_with</span><span class="rbracket">]</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node/SaveOptions.html#NO_DECLARATION-constant" title="Nokogiri::XML::Node::SaveOptions::NO_DECLARATION (constant)">NO_DECLARATION</a></span></span> <span class="op">|</span> <span class="const"><span class="object_link"><a href="Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node/SaveOptions.html#NO_EMPTY_TAGS-constant" title="Nokogiri::XML::Node::SaveOptions::NO_EMPTY_TAGS (constant)">NO_EMPTY_TAGS</a></span></span> <span class="op">|</span> <span class="const"><span class="object_link"><a href="Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node/SaveOptions.html" title="Nokogiri::XML::Node::SaveOptions (class)">SaveOptions</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node/SaveOptions.html#AS_HTML-constant" title="Nokogiri::XML::Node::SaveOptions::AS_HTML (constant)">AS_HTML</a></span></span>
    <span class="kw">end</span>
    <span class="id identifier rubyid_args">args</span><span class="period">.</span><span class="id identifier rubyid_insert">insert</span><span class="lparen">(</span><span class="int">0</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="rparen">)</span>
  <span class="kw">end</span>
  <span class="id identifier rubyid_map">map</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span> <span class="id identifier rubyid_x">x</span><span class="period">.</span><span class="id identifier rubyid_to_html">to_html</span><span class="lparen">(</span><span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span> <span class="rbrace">}</span><span class="period">.</span><span class="id identifier rubyid_join">join</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convert this NodeSet to a string.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


276
277
278</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 276</span>

<span class="kw">def</span> <span class="id identifier rubyid_to_s">to_s</span>
  <span class="id identifier rubyid_map">map</span><span class="lparen">(</span><span class="op">&amp;</span><span class="symbol">:to_s</span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_join">join</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_xhtml-instance_method">
  
    #<strong>to_xhtml</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convert this NodeSet to XHTML</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


295
296
297</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 295</span>

<span class="kw">def</span> <span class="id identifier rubyid_to_xhtml">to_xhtml</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span>
  <span class="id identifier rubyid_map">map</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span> <span class="id identifier rubyid_x">x</span><span class="period">.</span><span class="id identifier rubyid_to_xhtml">to_xhtml</span><span class="lparen">(</span><span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span> <span class="rbrace">}</span><span class="period">.</span><span class="id identifier rubyid_join">join</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_xml-instance_method">
  
    #<strong>to_xml</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Convert this NodeSet to XML</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


301
302
303</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 301</span>

<span class="kw">def</span> <span class="id identifier rubyid_to_xml">to_xml</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span>
  <span class="id identifier rubyid_map">map</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_x">x</span><span class="op">|</span> <span class="id identifier rubyid_x">x</span><span class="period">.</span><span class="id identifier rubyid_to_xml">to_xml</span><span class="lparen">(</span><span class="op">*</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span> <span class="rbrace">}</span><span class="period">.</span><span class="id identifier rubyid_join">join</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unlink-instance_method">
  
    #<strong>unlink</strong>  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="remove-instance_method">remove</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Unlink this NodeSet and all Node objects it contains from their current context.</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 418</span>

static VALUE
unlink_nodeset(VALUE self)
{
  xmlNodeSetPtr node_set;
  int j, nodeNr ;

  Data_Get_Struct(self, xmlNodeSet, node_set);

  nodeNr = node_set-&gt;nodeNr ;
  for (j = 0 ; j &lt; nodeNr ; j++) {
    if (! NOKOGIRI_NAMESPACE_EH(node_set-&gt;nodeTab[j])) {
      VALUE node ;
      xmlNodePtr node_ptr;
      node = noko_xml_node_wrap(Qnil, node_set-&gt;nodeTab[j]);
      rb_funcall(node, rb_intern("unlink"), 0); /* modifies the C struct out from under the object */
      Data_Get_Struct(node, xmlNode, node_ptr);
      node_set-&gt;nodeTab[j] = node_ptr ;
    }
  }
  return self ;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="wrap-instance_method">
  
    #<strong>wrap</strong>(html)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Wrap this NodeSet with <code>html</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 270</span>

<span class="kw">def</span> <span class="id identifier rubyid_wrap">wrap</span> <span class="id identifier rubyid_html">html</span>
  <span class="id identifier rubyid_map">map</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_node">node</span><span class="op">|</span> <span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_wrap">wrap</span> <span class="id identifier rubyid_html">html</span> <span class="rbrace">}</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="xpath-instance_method">
  
    #<strong>xpath</strong>(*args)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>call-seq: xpath *paths, [namespace-bindings, variable-bindings, custom-handler-class]</p>

<p>Search this node set for XPath <code>paths</code>. <code>paths</code> must be one or more XPath queries.</p>

<p>For more information see Nokogiri::XML::Searchable#xpath</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98
99
100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/node_set.rb', line 96</span>

<span class="kw">def</span> <span class="id identifier rubyid_xpath">xpath</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span>
  <span class="id identifier rubyid_paths">paths</span><span class="comma">,</span> <span class="id identifier rubyid_handler">handler</span><span class="comma">,</span> <span class="id identifier rubyid_ns">ns</span><span class="comma">,</span> <span class="id identifier rubyid_binds">binds</span> <span class="op">=</span> <span class="id identifier rubyid_extract_params">extract_params</span><span class="lparen">(</span><span class="id identifier rubyid_args">args</span><span class="rparen">)</span>

  <span class="id identifier rubyid_inject">inject</span><span class="lparen">(</span><span class="const"><span class="object_link"><a href="" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="#initialize-instance_method" title="Nokogiri::XML::NodeSet#initialize (method)">new</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_document">document</span><span class="rparen">)</span><span class="rparen">)</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_set">set</span><span class="comma">,</span> <span class="id identifier rubyid_node">node</span><span class="op">|</span>
    <span class="id identifier rubyid_set">set</span> <span class="op">+</span> <span class="id identifier rubyid_xpath_internal">xpath_internal</span><span class="lparen">(</span><span class="id identifier rubyid_node">node</span><span class="comma">,</span> <span class="id identifier rubyid_paths">paths</span><span class="comma">,</span> <span class="id identifier rubyid_handler">handler</span><span class="comma">,</span> <span class="id identifier rubyid_ns">ns</span><span class="comma">,</span> <span class="id identifier rubyid_binds">binds</span><span class="rparen">)</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="|-instance_method">
  
    #<strong>|</strong>(node_set)  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="+-instance_method">+</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Returns a new set built by merging the set and the elements of the given set.</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_node_set.c', line 244</span>

static VALUE
rb_xml_node_set_union(VALUE rb_node_set, VALUE rb_other)
{
  xmlNodeSetPtr c_node_set, c_other;
  xmlNodeSetPtr c_new_node_set;

  if (!rb_obj_is_kind_of(rb_other, cNokogiriXmlNodeSet)) {
    rb_raise(rb_eArgError, "node_set must be a Nokogiri::XML::NodeSet");
  }

  Data_Get_Struct(rb_node_set, xmlNodeSet, c_node_set);
  Data_Get_Struct(rb_other, xmlNodeSet, c_other);

  c_new_node_set = xmlXPathNodeSetMerge(NULL, c_node_set);
  c_new_node_set = xmlXPathNodeSetMerge(c_new_node_set, c_other);

  return noko_xml_node_set_wrap(c_new_node_set, rb_iv_get(rb_node_set, "@document"));
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Sep 27 15:13:35 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.2).
</div>

    </div>
  </body>
</html>
