<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Nokogiri::XML::Document
  
    — Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css">

  <link rel="stylesheet" href="../../css/common.css" type="text/css">

<script type="text/javascript">
  pathId = "Nokogiri::XML::Document";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


      <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1260604-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-1260604-8');
    </script>
</head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (D)</a> »
    <span class="title"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span> » <span class="title"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span>
     » 
    <span class="title">Document</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link" href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content">
<h1>Class: Nokogiri::XML::Document
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class="object_link"><a href="Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class="object_link"><a href="Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></li>
          
            <li class="next">Nokogiri::XML::Document</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/nokogiri/xml/document.rb<span class="defines">,<br>
  ext/nokogiri/xml_document.c</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>Nokogiri::XML::Document is the main entry point for dealing with XML documents.  The Document is created by parsing an XML document. See Nokogiri::XML::Document.parse() for more information on parsing.</p>

<p>For searching a Document, see Nokogiri::XML::Searchable#css and Nokogiri::XML::Searchable#xpath</p>


  </div>
</div>
<div class="tags">
  

</div>
<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class="object_link"><a href="../HTML4/Document.html" title="Nokogiri::HTML4::Document (class)">HTML4::Document</a></span>, <span class="object_link"><a href="../HTML/Document.html" title="Nokogiri::HTML::Document (class)">HTML::Document</a></span></p>
</div>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="NCNAME_START_CHAR-constant" class="">NCNAME_START_CHAR =
          <div class="docstring">
  <div class="discussion">
    
<p>See <a href="http://www.w3.org/TR/REC-xml-names/#ns-decl">www.w3.org/TR/REC-xml-names/#ns-decl</a> for more details. Note that we're not attempting to handle unicode characters partly because libxml2 doesn't handle unicode characters in NCNAMEs.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">A-Za-z_</span><span class="tstring_end">"</span></span></pre></dd>
      
        <dt id="NCNAME_CHAR-constant" class="">NCNAME_CHAR =
          
        </dt>
        <dd><pre class="code"><span class="const"><span class="object_link"><a href="#NCNAME_START_CHAR-constant" title="Nokogiri::XML::Document::NCNAME_START_CHAR (constant)">NCNAME_START_CHAR</a></span></span> <span class="op">+</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">\\-\\.0-9</span><span class="tstring_end">"</span></span></pre></dd>
      
        <dt id="NCNAME_RE-constant" class="">NCNAME_RE =
          
        </dt>
        <dd><pre class="code"><span class="tstring"><span class="regexp_beg">/</span><span class="tstring_content">^xmlns(?::([</span><span class="embexpr_beg">#{</span><span class="const"><span class="object_link"><a href="#NCNAME_START_CHAR-constant" title="Nokogiri::XML::Document::NCNAME_START_CHAR (constant)">NCNAME_START_CHAR</a></span></span><span class="embexpr_end">}</span><span class="tstring_content">][</span><span class="embexpr_beg">#{</span><span class="const"><span class="object_link"><a href="#NCNAME_CHAR-constant" title="Nokogiri::XML::Document::NCNAME_CHAR (constant)">NCNAME_CHAR</a></span></span><span class="embexpr_end">}</span><span class="tstring_content">]*))?$</span><span class="regexp_end">/</span></span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small>
</h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#errors-instance_method" title="#errors (instance method)">#<strong>errors</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>A list of Nokogiri::XML::SyntaxError found when parsing a document.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-class_method" title="new (class method)">.<strong>new</strong>(version = default)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a new document with <code>version</code> (defaults to “1.0”).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#parse-class_method" title="parse (class method)">.<strong>parse</strong>(string_or_io, url = nil, encoding = nil, options = ParseOptions::DEFAULT_XML) {|options| ... } ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Parse an XML file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_io-class_method" title="read_io (class method)">.<strong>read_io</strong>(io, url, encoding, options)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a new document from an IO object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#read_memory-class_method" title="read_memory (class method)">.<strong>read_memory</strong>(string, url, encoding, options)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a new document from a String.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wrap-class_method" title="wrap (class method)">.<strong>wrap</strong>(java_document)  ⇒ Nokogiri::XML::Document </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a <span class="object_link"><a href="" title="Nokogiri::XML::Document (class)">Document</a></span> using an existing Java DOM document object.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_child-instance_method" title="#add_child (instance method)">#<strong>add_child</strong>(node_or_tags)  ⇒ Object </a>
    

    
      (also: #&lt;&lt;)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline"></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#canonicalize-instance_method" title="#canonicalize (instance method)">#<strong>canonicalize</strong>(*args)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Canonicalize a document and return the results.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#collect_namespaces-instance_method" title="#collect_namespaces (instance method)">#<strong>collect_namespaces</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Recursively get all namespaces from this node and its subtree and return them as a hash.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_cdata-instance_method" title="#create_cdata (instance method)">#<strong>create_cdata</strong>(string, &amp;block)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a CDATA Node containing <code>string</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_comment-instance_method" title="#create_comment (instance method)">#<strong>create_comment</strong>(string, &amp;block)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a Comment Node containing <code>string</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_element-instance_method" title="#create_element (instance method)">#<strong>create_element</strong>(name, *contents_or_attrs) {|node| ... } ⇒ Nokogiri::XML::Element </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a new <code>Element</code> with <code>name</code> sharing GC lifecycle with the document, optionally setting contents or attributes.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_entity-instance_method" title="#create_entity (instance method)">#<strong>create_entity</strong>(name, type, external_id, system_id, content)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a new entity named <code>name</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_text_node-instance_method" title="#create_text_node (instance method)">#<strong>create_text_node</strong>(string, &amp;block)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a Text Node with <code>string</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#decorate-instance_method" title="#decorate (instance method)">#<strong>decorate</strong>(node)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Apply any decorators to <code>node</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#decorators-instance_method" title="#decorators (instance method)">#<strong>decorators</strong>(key)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the list of decorators given <code>key</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#document-instance_method" title="#document (instance method)">#<strong>document</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>A reference to <code>self</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dup-instance_method" title="#dup (instance method)">#<strong>dup</strong>  ⇒ Object </a>
    

    
      (also: #clone)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Copy this Document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#encoding-instance_method" title="#encoding (instance method)">#<strong>encoding</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the encoding for this Document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#encoding=-instance_method" title="#encoding= (instance method)">#<strong>encoding=</strong>(encoding)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Set the encoding string for this Document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fragment-instance_method" title="#fragment (instance method)">#<strong>fragment</strong>(tags = nil)  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Create a Nokogiri::XML::DocumentFragment from <code>tags</code> Returns an empty fragment if <code>tags</code> is nil.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(*args)  ⇒ Document </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>The name of this document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#namespaces-instance_method" title="#namespaces (instance method)">#<strong>namespaces</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the hash of namespaces on the root Nokogiri::XML::Node.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_namespaces!-instance_method" title="#remove_namespaces! (instance method)">#<strong>remove_namespaces!</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Remove all namespaces from all nodes in the document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#root-instance_method" title="#root (instance method)">#<strong>root</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the root node for this document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#root=-instance_method" title="#root= (instance method)">#<strong>root=</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Set the root element on this document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slop!-instance_method" title="#slop! (instance method)">#<strong>slop!</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Explore a document with shortcut methods.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_java-instance_method" title="#to_java (instance method)">#<strong>to_java</strong>  ⇒ Java::OrgW3cDom::Document </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Returns the underlying Java DOM document object for the <span class="object_link"><a href="" title="Nokogiri::XML::Document (class)">Document</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#url-instance_method" title="#url (instance method)">#<strong>url</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the url name for this document.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate-instance_method" title="#validate (instance method)">#<strong>validate</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Validate this Document against it's DTD.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#version-instance_method" title="#version (instance method)">#<strong>version</strong>  ⇒ Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class="inline">
<p>Get the XML version for this Document.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(*args)  ⇒ <tt><span class="object_link"><a href="" title="Nokogiri::XML::Document (class)">Document</a></span></tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


116
117
118
119</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 116</span>

<span class="kw">def</span> <span class="id identifier rubyid_initialize">initialize</span> <span class="op">*</span><span class="id identifier rubyid_args">args</span> <span class="comment"># :nodoc:
</span>  <span class="ivar">@errors</span>     <span class="op">=</span> <span class="lbracket">[</span><span class="rbracket">]</span>
  <span class="ivar">@decorators</span> <span class="op">=</span> <span class="kw">nil</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="errors=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="errors-instance_method">
  
    #<strong>errors</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A list of Nokogiri::XML::SyntaxError found when parsing a document</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 114</span>

<span class="kw">def</span> <span class="id identifier rubyid_errors">errors</span>
  <span class="ivar">@errors</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="new-class_method">
  
    .<strong>new</strong>(version = default)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a new document with <code>version</code> (defaults to “1.0”)</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


390
391
392
393
394
395
396
397
398
399
400
401
402
403</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 390</span>

static VALUE
new (int argc, VALUE *argv, VALUE klass)
{
  xmlDocPtr doc;
  VALUE version, rest, rb_doc ;

  rb_scan_args(argc, argv, "0*", &amp;rest);
  version = rb_ary_entry(rest, (long)0);
  if (NIL_P(version)) { version = rb_str_new2("1.0"); }

  doc = xmlNewDoc((xmlChar *)StringValueCStr(version));
  rb_doc = noko_xml_document_wrap_with_init_args(klass, doc, argc, argv);
  return rb_doc ;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="parse-class_method">
  
    .<strong>parse</strong>(string_or_io, url = nil, encoding = nil, options = ParseOptions::DEFAULT_XML) {|options| ... } ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Parse an XML file.</p>

<p><code>string_or_io</code> may be a String, or any object that responds to <em>read</em> and <em>close</em> such as an IO, or StringIO.</p>

<p><code>url</code> (optional) is the URI where this document is located.</p>

<p><code>encoding</code> (optional) is the encoding that should be used when processing the document.</p>

<p><code>options</code> (optional) is a configuration object that sets options during parsing, such as Nokogiri::XML::ParseOptions::RECOVER. See the Nokogiri::XML::ParseOptions for more information.</p>

<p><code>block</code> (optional) is passed a configuration object on which parse options may be set.</p>

<p>By default, Nokogiri treats documents as untrusted, and so does not attempt to load DTDs or access the network. See Nokogiri::XML::ParseOptions for a complete list of options; and that module's DEFAULT_XML constant for what's set (and not set) by default.</p>

<p>Nokogiri.XML() is a convenience method which will call this method.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class="type">(<tt>options</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 50</span>

<span class="kw">def</span> <span class="kw">self</span><span class="period">.</span><span class="id identifier rubyid_parse">parse</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="comma">,</span> <span class="id identifier rubyid_url">url</span> <span class="op">=</span> <span class="kw">nil</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span> <span class="op">=</span> <span class="kw">nil</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)">ParseOptions</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="ParseOptions.html#DEFAULT_XML-constant" title="Nokogiri::XML::ParseOptions::DEFAULT_XML (constant)">DEFAULT_XML</a></span></span>
  <span class="id identifier rubyid_options">options</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="ParseOptions.html" title="Nokogiri::XML::ParseOptions (class)">ParseOptions</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="ParseOptions.html#initialize-instance_method" title="Nokogiri::XML::ParseOptions#initialize (method)">new</a></span></span><span class="lparen">(</span><span class="id identifier rubyid_options">options</span><span class="rparen">)</span> <span class="kw">if</span> <span class="const">Integer</span> <span class="op">===</span> <span class="id identifier rubyid_options">options</span>

  <span class="kw">yield</span> <span class="id identifier rubyid_options">options</span> <span class="kw">if</span> <span class="id identifier rubyid_block_given?">block_given?</span>

  <span class="id identifier rubyid_url">url</span> <span class="op">||=</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_respond_to?">respond_to?</span><span class="lparen">(</span><span class="symbol">:path</span><span class="rparen">)</span> <span class="op">?</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_path">path</span> <span class="op">:</span> <span class="kw">nil</span>

  <span class="kw">if</span> <span class="id identifier rubyid_empty_doc?">empty_doc?</span><span class="lparen">(</span><span class="id identifier rubyid_string_or_io">string_or_io</span><span class="rparen">)</span>
    <span class="kw">if</span> <span class="id identifier rubyid_options">options</span><span class="period">.</span><span class="id identifier rubyid_strict?">strict?</span>
      <span class="id identifier rubyid_raise">raise</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="SyntaxError.html" title="Nokogiri::XML::SyntaxError (class)">SyntaxError</a></span></span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">Empty document</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
    <span class="kw">else</span>
      <span class="kw">return</span> <span class="id identifier rubyid_encoding">encoding</span> <span class="op">?</span> <span class="id identifier rubyid_new">new</span><span class="period">.</span><span class="id identifier rubyid_tap">tap</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_i">i</span><span class="op">|</span> <span class="id identifier rubyid_i">i</span><span class="period">.</span><span class="id identifier rubyid_encoding">encoding</span> <span class="op">=</span> <span class="id identifier rubyid_encoding">encoding</span> <span class="rbrace">}</span> <span class="op">:</span> <span class="id identifier rubyid_new">new</span>
    <span class="kw">end</span>
  <span class="kw">end</span>

  <span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="kw">if</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_respond_to?">respond_to?</span><span class="lparen">(</span><span class="symbol">:read</span><span class="rparen">)</span>
          <span class="kw">if</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="const">Pathname</span><span class="rparen">)</span>
            <span class="comment"># resolve the Pathname to the file and open it as an IO object, see #2110
</span>            <span class="id identifier rubyid_string_or_io">string_or_io</span> <span class="op">=</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_expand_path">expand_path</span><span class="period">.</span><span class="id identifier rubyid_open">open</span>
            <span class="id identifier rubyid_url">url</span> <span class="op">||=</span> <span class="id identifier rubyid_string_or_io">string_or_io</span><span class="period">.</span><span class="id identifier rubyid_path">path</span>
          <span class="kw">end</span>

          <span class="id identifier rubyid_read_io">read_io</span><span class="lparen">(</span><span class="id identifier rubyid_string_or_io">string_or_io</span><span class="comma">,</span> <span class="id identifier rubyid_url">url</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="period">.</span><span class="id identifier rubyid_to_i">to_i</span><span class="rparen">)</span>
        <span class="kw">else</span>
          <span class="comment"># read_memory pukes on empty docs
</span>          <span class="id identifier rubyid_read_memory">read_memory</span><span class="lparen">(</span><span class="id identifier rubyid_string_or_io">string_or_io</span><span class="comma">,</span> <span class="id identifier rubyid_url">url</span><span class="comma">,</span> <span class="id identifier rubyid_encoding">encoding</span><span class="comma">,</span> <span class="id identifier rubyid_options">options</span><span class="period">.</span><span class="id identifier rubyid_to_i">to_i</span><span class="rparen">)</span>
        <span class="kw">end</span>

  <span class="comment"># do xinclude processing
</span>  <span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_do_xinclude">do_xinclude</span><span class="lparen">(</span><span class="id identifier rubyid_options">options</span><span class="rparen">)</span> <span class="kw">if</span> <span class="id identifier rubyid_options">options</span><span class="period">.</span><span class="id identifier rubyid_xinclude?">xinclude?</span>

  <span class="kw">return</span> <span class="id identifier rubyid_doc">doc</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_io-class_method">
  
    .<strong>read_io</strong>(io, url, encoding, options)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a new document from an IO object</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 262</span>

static VALUE
read_io(VALUE klass,
        VALUE io,
        VALUE url,
        VALUE encoding,
        VALUE options)
{
  const char *c_url    = NIL_P(url)      ? NULL : StringValueCStr(url);
  const char *c_enc    = NIL_P(encoding) ? NULL : StringValueCStr(encoding);
  VALUE error_list      = rb_ary_new();
  VALUE document;
  xmlDocPtr doc;

  xmlResetLastError();
  xmlSetStructuredErrorFunc((void *)error_list, Nokogiri_error_array_pusher);

  doc = xmlReadIO(
          (xmlInputReadCallback)noko_io_read,
          (xmlInputCloseCallback)noko_io_close,
          (void *)io,
          c_url,
          c_enc,
          (int)NUM2INT(options)
        );
  xmlSetStructuredErrorFunc(NULL, NULL);

  if (doc == NULL) {
    xmlErrorPtr error;

    xmlFreeDoc(doc);

    error = xmlGetLastError();
    if (error) {
      rb_exc_raise(Nokogiri_wrap_xml_syntax_error(error));
    } else {
      rb_raise(rb_eRuntimeError, "Could not parse document");
    }

    return Qnil;
  }

  document = noko_xml_document_wrap(klass, doc);
  rb_iv_set(document, "@errors", error_list);
  return document;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="read_memory-class_method">
  
    .<strong>read_memory</strong>(string, url, encoding, options)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a new document from a String</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 314</span>

static VALUE
read_memory(VALUE klass,
            VALUE string,
            VALUE url,
            VALUE encoding,
            VALUE options)
{
  const char *c_buffer = StringValuePtr(string);
  const char *c_url    = NIL_P(url)      ? NULL : StringValueCStr(url);
  const char *c_enc    = NIL_P(encoding) ? NULL : StringValueCStr(encoding);
  int len               = (int)RSTRING_LEN(string);
  VALUE error_list      = rb_ary_new();
  VALUE document;
  xmlDocPtr doc;

  xmlResetLastError();
  xmlSetStructuredErrorFunc((void *)error_list, Nokogiri_error_array_pusher);
  doc = xmlReadMemory(c_buffer, len, c_url, c_enc, (int)NUM2INT(options));
  xmlSetStructuredErrorFunc(NULL, NULL);

  if (doc == NULL) {
    xmlErrorPtr error;

    xmlFreeDoc(doc);

    error = xmlGetLastError();
    if (error) {
      rb_exc_raise(Nokogiri_wrap_xml_syntax_error(error));
    } else {
      rb_raise(rb_eRuntimeError, "Could not parse document");
    }

    return Qnil;
  }

  document = noko_xml_document_wrap(klass, doc);
  rb_iv_set(document, "@errors", error_list);
  return document;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="wrap-class_method">
  
    .<strong>wrap</strong>(java_document)  ⇒ <tt><span class="object_link"><a href="" title="Nokogiri::XML::Document (class)">Nokogiri::XML::Document</a></span></tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class="inline">
<p>This method is only available when running JRuby.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class="inline">
<p>The class <code>Java::OrgW3cDom::Document</code> is also accessible as <code>org.w3c.dom.Document</code>.</p>
</div>
  </div>


<p>Create a <span class="object_link"><a href="" title="Nokogiri::XML::Document (class)">Nokogiri::XML::Document</a></span> using an existing Java DOM document object.</p>

<p>The returned <span class="object_link"><a href="" title="Nokogiri::XML::Document (class)">Nokogiri::XML::Document</a></span> shares the same underlying data structure as the Java object, so changes in one are reflected in the other.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class="name">java_document</span>
      
      
        <span class="type">(<tt>Java::OrgW3cDom::Document</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt><span class="object_link"><a href="" title="Nokogiri::XML::Document (class)">Nokogiri::XML::Document</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class="object_link"><a href="#to_java-instance_method" title="Nokogiri::XML::Document#to_java (method)">#to_java</a></span></li>
    
  </ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 84</span>

</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_child-instance_method">
  
    #<strong>add_child</strong>(node_or_tags)  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="&lt;&lt;-instance_method">&lt;&lt;</span></span>
    </span>
  

  
</h3>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


309
310
311
312
313
314
315
316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 309</span>

<span class="kw">def</span> <span class="id identifier rubyid_add_child">add_child</span> <span class="id identifier rubyid_node_or_tags">node_or_tags</span>
  <span class="id identifier rubyid_raise">raise</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">A document may not have multiple root nodes.</span><span class="tstring_end">"</span></span> <span class="kw">if</span> <span class="lparen">(</span><span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span> <span class="op">&amp;&amp;</span> <span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span><span class="period">.</span><span class="id identifier rubyid_name">name</span> <span class="op">!=</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">nokogiri_text_wrapper</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="lparen">(</span><span class="id identifier rubyid_node_or_tags">node_or_tags</span><span class="period">.</span><span class="id identifier rubyid_comment?">comment?</span> <span class="op">||</span> <span class="id identifier rubyid_node_or_tags">node_or_tags</span><span class="period">.</span><span class="id identifier rubyid_processing_instruction?">processing_instruction?</span><span class="rparen">)</span>
  <span class="id identifier rubyid_node_or_tags">node_or_tags</span> <span class="op">=</span> <span class="id identifier rubyid_coerce">coerce</span><span class="lparen">(</span><span class="id identifier rubyid_node_or_tags">node_or_tags</span><span class="rparen">)</span>
  <span class="kw">if</span> <span class="id identifier rubyid_node_or_tags">node_or_tags</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="NodeSet.html" title="Nokogiri::XML::NodeSet (class)">NodeSet</a></span></span><span class="rparen">)</span>
    <span class="id identifier rubyid_raise">raise</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">A document may not have multiple root nodes.</span><span class="tstring_end">"</span></span> <span class="kw">if</span> <span class="id identifier rubyid_node_or_tags">node_or_tags</span><span class="period">.</span><span class="id identifier rubyid_size">size</span> <span class="op">&gt;</span> <span class="int">1</span>
    <span class="kw">super</span><span class="lparen">(</span><span class="id identifier rubyid_node_or_tags">node_or_tags</span><span class="period">.</span><span class="id identifier rubyid_first">first</span><span class="rparen">)</span>
  <span class="kw">else</span>
    <span class="kw">super</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="canonicalize-instance_method">
  
    
      <span class="overload">#<strong>canonicalize</strong>(mode = XML_C14N_1_0, inclusive_namespaces = nil, with_comments = false)  ⇒ <tt>Object</tt> </span>
    
      <span class="overload">#<strong>canonicalize</strong> {|obj, parent| ... } ⇒ <tt>Object</tt> </span>
    
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Canonicalize a document and return the results.  Takes an optional block that takes two parameters: the <code>obj</code> and that node's <code>parent</code>. The  <code>obj</code> will be either a Nokogiri::XML::Node, or a Nokogiri::XML::Namespace The block must return a non-nil, non-false value if the <code>obj</code> passed in should be included in the canonicalized document.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      
      <li class="overload_item">
        <span class="signature">#<strong>canonicalize</strong> {|obj, parent| ... } ⇒ <tt>Object</tt> </span>
        <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class="type">(<tt>obj</tt>, <tt><span class="object_link"><a href="Node.html#parent-instance_method" title="Nokogiri::XML::Node#parent (method)">parent</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
      </li>
    
  </ul>


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 533</span>

static VALUE
rb_xml_document_canonicalize(int argc, VALUE *argv, VALUE self)
{
  VALUE mode;
  VALUE incl_ns;
  VALUE with_comments;
  xmlChar **ns;
  long ns_len, i;

  xmlDocPtr doc;
  xmlOutputBufferPtr buf;
  xmlC14NIsVisibleCallback cb = NULL;
  void *ctx = NULL;

  VALUE rb_cStringIO;
  VALUE io;

  rb_scan_args(argc, argv, "03", &amp;mode, &amp;incl_ns, &amp;with_comments);

  Data_Get_Struct(self, xmlDoc, doc);

  rb_cStringIO = rb_const_get_at(rb_cObject, rb_intern("StringIO"));
  io           = rb_class_new_instance(0, 0, rb_cStringIO);
  buf          = xmlAllocOutputBuffer(NULL);

  buf-&gt;writecallback = (xmlOutputWriteCallback)noko_io_write;
  buf-&gt;closecallback = (xmlOutputCloseCallback)noko_io_close;
  buf-&gt;context       = (void *)io;

  if (rb_block_given_p()) {
    cb = block_caller;
    ctx = (void *)rb_block_proc();
  }

  if (NIL_P(incl_ns)) {
    ns = NULL;
  } else {
    Check_Type(incl_ns, T_ARRAY);
    ns_len = RARRAY_LEN(incl_ns);
    ns = calloc((size_t)ns_len + 1, sizeof(xmlChar *));
    for (i = 0 ; i &lt; ns_len ; i++) {
      VALUE entry = rb_ary_entry(incl_ns, i);
      ns[i] = (xmlChar *)StringValueCStr(entry);
    }
  }


  xmlC14NExecute(doc, cb, ctx,
                 (int)(NIL_P(mode)        ? 0 : NUM2INT(mode)),
                 ns,
                 (int)      RTEST(with_comments),
                 buf);

  xmlOutputBufferClose(buf);

  return rb_funcall(io, rb_intern("string"), 0);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="collect_namespaces-instance_method">
  
    #<strong>collect_namespaces</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Recursively get all namespaces from this node and its subtree and return them as a hash.</p>

<p>For example, given this document:</p>

<pre class="code ruby"><code class="ruby">&lt;root xmlns:foo="bar"&gt;
  &lt;bar xmlns:hello="world" /&gt;
&lt;/root&gt;
</code></pre>

<p>This method will return:</p>

<pre class="code ruby"><code class="ruby"><span class="lbrace">{</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">xmlns:foo</span><span class="tstring_end">'</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">bar</span><span class="tstring_end">'</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">xmlns:hello</span><span class="tstring_end">'</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">world</span><span class="tstring_end">'</span></span> <span class="rbrace">}</span>
</code></pre>

<p>WARNING: this method will clobber duplicate names in the keys. For example, given this document:</p>

<pre class="code ruby"><code class="ruby">&lt;root xmlns:foo="bar"&gt;
  &lt;bar xmlns:foo="baz" /&gt;
&lt;/root&gt;
</code></pre>

<p>The hash returned will look like this: { 'xmlns:foo' =&gt; 'bar' }</p>

<p>Non-prefixed default namespaces (as in “xmlns=”) are not included in the hash.</p>

<p>Note that this method does an xpath lookup for nodes with namespaces, and as a result the order may be dependent on the implementation of the underlying XML library.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236
237
238
239</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 234</span>

<span class="kw">def</span> <span class="id identifier rubyid_collect_namespaces">collect_namespaces</span>
  <span class="id identifier rubyid_xpath">xpath</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">//namespace::*</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_inject">inject</span><span class="lparen">(</span><span class="lbrace">{</span><span class="rbrace">}</span><span class="rparen">)</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_hash">hash</span><span class="comma">,</span> <span class="id identifier rubyid_ns">ns</span><span class="op">|</span>
    <span class="id identifier rubyid_hash">hash</span><span class="lbracket">[</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">xmlns</span><span class="tstring_end">"</span></span><span class="comma">,</span><span class="id identifier rubyid_ns">ns</span><span class="period">.</span><span class="id identifier rubyid_prefix">prefix</span><span class="rbracket">]</span><span class="period">.</span><span class="id identifier rubyid_compact">compact</span><span class="period">.</span><span class="id identifier rubyid_join">join</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">:</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="rbracket">]</span> <span class="op">=</span> <span class="id identifier rubyid_ns">ns</span><span class="period">.</span><span class="id identifier rubyid_href">href</span> <span class="kw">if</span> <span class="id identifier rubyid_ns">ns</span><span class="period">.</span><span class="id identifier rubyid_prefix">prefix</span> <span class="op">!=</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">xml</span><span class="tstring_end">"</span></span>
    <span class="id identifier rubyid_hash">hash</span>
  <span class="kw">end</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_cdata-instance_method">
  
    #<strong>create_cdata</strong>(string, &amp;block)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a CDATA Node containing <code>string</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 185</span>

<span class="kw">def</span> <span class="id identifier rubyid_create_cdata">create_cdata</span> <span class="id identifier rubyid_string">string</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span>
  <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="CDATA.html" title="Nokogiri::XML::CDATA (class)">CDATA</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="CDATA.html#new-class_method" title="Nokogiri::XML::CDATA.new (method)">new</a></span></span> <span class="kw">self</span><span class="comma">,</span> <span class="id identifier rubyid_string">string</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_comment-instance_method">
  
    #<strong>create_comment</strong>(string, &amp;block)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a Comment Node containing <code>string</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


190
191
192</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 190</span>

<span class="kw">def</span> <span class="id identifier rubyid_create_comment">create_comment</span> <span class="id identifier rubyid_string">string</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span>
  <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Comment.html" title="Nokogiri::XML::Comment (class)">Comment</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="Comment.html#new-class_method" title="Nokogiri::XML::Comment.new (method)">new</a></span></span> <span class="kw">self</span><span class="comma">,</span> <span class="id identifier rubyid_string">string</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_element-instance_method">
  
    #<strong>create_element</strong>(name, *contents_or_attrs) {|node| ... } ⇒ <tt><span class="object_link"><a href="Element.html" title="Nokogiri::XML::Element (class)">Nokogiri::XML::Element</a></span></tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a new <code>Element</code> with <code>name</code> sharing GC lifecycle with the document, optionally setting contents or attributes.</p>

<p>Arguments may be passed to initialize the element:</p>
<ul>
<li>
<p>a <code>Hash</code> argument will be used to set attributes</p>
</li>
<li>
<p>a non-Hash object that responds to <code>#to_s</code> will be used to set the new node's contents</p>
</li>
</ul>

<p>A block may be passed to mutate the node.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"></p>
<div class="inline">
<p>An empty element without attributes</p>
</div>
      
      <pre class="example code"><code><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_create_element">create_element</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">div</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
<span class="comment"># =&gt; &lt;div&gt;&lt;/div&gt;</span></code></pre>
    
      
        <p class="example_title"></p>
<div class="inline">
<p>An element with contents</p>
</div>
      
      <pre class="example code"><code><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_create_element">create_element</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">div</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">contents</span><span class="tstring_end">"</span></span><span class="rparen">)</span>
<span class="comment"># =&gt; &lt;div&gt;contents&lt;/div&gt;</span></code></pre>
    
      
        <p class="example_title"></p>
<div class="inline">
<p>An element with attributes</p>
</div>
      
      <pre class="example code"><code><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_create_element">create_element</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">div</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="lbrace">{</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">class</span><span class="tstring_end">"</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">container</span><span class="tstring_end">"</span></span><span class="rbrace">}</span><span class="rparen">)</span>
<span class="comment"># =&gt; &lt;div class='container'&gt;&lt;/div&gt;</span></code></pre>
    
      
        <p class="example_title"></p>
<div class="inline">
<p>An element with contents and attributes</p>
</div>
      
      <pre class="example code"><code><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_create_element">create_element</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">div</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">contents</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="lbrace">{</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">class</span><span class="tstring_end">"</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">container</span><span class="tstring_end">"</span></span><span class="rbrace">}</span><span class="rparen">)</span>
<span class="comment"># =&gt; &lt;div class='container'&gt;contents&lt;/div&gt;</span></code></pre>
    
      
        <p class="example_title"></p>
<div class="inline">
<p>Passing a block to mutate the element</p>
</div>
      
      <pre class="example code"><code><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_create_element">create_element</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">div</span><span class="tstring_end">"</span></span><span class="rparen">)</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_node">node</span><span class="op">|</span> <span class="id identifier rubyid_node">node</span><span class="lbracket">[</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">class</span><span class="tstring_end">"</span></span><span class="rbracket">]</span> <span class="op">=</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">blue</span><span class="tstring_end">"</span></span> <span class="kw">if</span> <span class="id identifier rubyid_before_noon?">before_noon?</span> <span class="rbrace">}</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class="name">name</span>
      
      
        <span class="type">(<tt>String</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class="name">contents_or_attrs</span>
      
      
        <span class="type">(<tt>#<span class="object_link"><a href="Node.html#to_s-instance_method" title="Nokogiri::XML::Node#to_s (method)">to_s</a></span></tt>, <tt>Hash</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class="name">node</span>
      
      
        <span class="type">(<tt><span class="object_link"><a href="Element.html" title="Nokogiri::XML::Element (class)">Nokogiri::XML::Element</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt><span class="object_link"><a href="Element.html" title="Nokogiri::XML::Element (class)">Nokogiri::XML::Element</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 155</span>

<span class="kw">def</span> <span class="id identifier rubyid_create_element">create_element</span><span class="lparen">(</span><span class="id identifier rubyid_name">name</span><span class="comma">,</span> <span class="op">*</span><span class="id identifier rubyid_contents_or_attrs">contents_or_attrs</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
  <span class="id identifier rubyid_elm">elm</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Element.html" title="Nokogiri::XML::Element (class)">Element</a></span></span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="lparen">(</span><span class="id identifier rubyid_name">name</span><span class="comma">,</span> <span class="kw">self</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span><span class="rparen">)</span>
  <span class="id identifier rubyid_contents_or_attrs">contents_or_attrs</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_arg">arg</span><span class="op">|</span>
    <span class="kw">case</span> <span class="id identifier rubyid_arg">arg</span>
    <span class="kw">when</span> <span class="const">Hash</span>
      <span class="id identifier rubyid_arg">arg</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="kw">do</span> <span class="op">|</span><span class="id identifier rubyid_k">k</span><span class="comma">,</span> <span class="id identifier rubyid_v">v</span><span class="op">|</span>
        <span class="id identifier rubyid_key">key</span> <span class="op">=</span> <span class="id identifier rubyid_k">k</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span>
        <span class="kw">if</span> <span class="id identifier rubyid_key">key</span> <span class="op">=~</span> <span class="const"><span class="object_link"><a href="#NCNAME_RE-constant" title="Nokogiri::XML::Document::NCNAME_RE (constant)">NCNAME_RE</a></span></span>
          <span class="id identifier rubyid_ns_name">ns_name</span> <span class="op">=</span> <span class="const">Regexp</span><span class="period">.</span><span class="id identifier rubyid_last_match">last_match</span><span class="lparen">(</span><span class="int">1</span><span class="rparen">)</span>
          <span class="id identifier rubyid_elm">elm</span><span class="period">.</span><span class="id identifier rubyid_add_namespace_definition">add_namespace_definition</span><span class="lparen">(</span><span class="id identifier rubyid_ns_name">ns_name</span><span class="comma">,</span> <span class="id identifier rubyid_v">v</span><span class="rparen">)</span>
        <span class="kw">else</span>
          <span class="id identifier rubyid_elm">elm</span><span class="lbracket">[</span><span class="id identifier rubyid_k">k</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span><span class="rbracket">]</span> <span class="op">=</span> <span class="id identifier rubyid_v">v</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span>
        <span class="kw">end</span>
      <span class="kw">end</span>
    <span class="kw">else</span>
      <span class="id identifier rubyid_elm">elm</span><span class="period">.</span><span class="id identifier rubyid_content">content</span> <span class="op">=</span> <span class="id identifier rubyid_arg">arg</span>
    <span class="kw">end</span>
  <span class="kw">end</span>
  <span class="kw">if</span> <span class="id identifier rubyid_ns">ns</span> <span class="op">=</span> <span class="id identifier rubyid_elm">elm</span><span class="period">.</span><span class="id identifier rubyid_namespace_definitions">namespace_definitions</span><span class="period">.</span><span class="id identifier rubyid_find">find</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_n">n</span><span class="op">|</span> <span class="id identifier rubyid_n">n</span><span class="period">.</span><span class="id identifier rubyid_prefix">prefix</span><span class="period">.</span><span class="id identifier rubyid_nil?">nil?</span> <span class="op">||</span> <span class="lparen">(</span><span class="id identifier rubyid_n">n</span><span class="period">.</span><span class="id identifier rubyid_prefix">prefix</span> <span class="op">==</span> <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_end">'</span></span><span class="rparen">)</span> <span class="rbrace">}</span>
    <span class="id identifier rubyid_elm">elm</span><span class="period">.</span><span class="id identifier rubyid_namespace">namespace</span> <span class="op">=</span> <span class="id identifier rubyid_ns">ns</span>
  <span class="kw">end</span>
  <span class="id identifier rubyid_elm">elm</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_entity-instance_method">
  
    #<strong>create_entity</strong>(name, type, external_id, system_id, content)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a new entity named <code>name</code>.</p>

<p><code>type</code> is an integer representing the type of entity to be created, and it defaults to Nokogiri::XML::EntityDecl::INTERNAL_GENERAL.  See the constants on Nokogiri::XML::EntityDecl for more information.</p>

<p><code>external_id</code>, <code>system_id</code>, and <code>content</code> set the External ID, System ID, and content respectively.  All of these parameters are optional.</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 463</span>

static VALUE
create_entity(int argc, VALUE *argv, VALUE self)
{
  VALUE name;
  VALUE type;
  VALUE external_id;
  VALUE system_id;
  VALUE content;
  xmlEntityPtr ptr;
  xmlDocPtr doc ;

  Data_Get_Struct(self, xmlDoc, doc);

  rb_scan_args(argc, argv, "14", &amp;name, &amp;type, &amp;external_id, &amp;system_id,
               &amp;content);

  xmlResetLastError();
  ptr = xmlAddDocEntity(
          doc,
          (xmlChar *)(NIL_P(name)        ? NULL                        : StringValueCStr(name)),
          (int)(NIL_P(type)        ? XML_INTERNAL_GENERAL_ENTITY : NUM2INT(type)),
          (xmlChar *)(NIL_P(external_id) ? NULL                        : StringValueCStr(external_id)),
          (xmlChar *)(NIL_P(system_id)   ? NULL                        : StringValueCStr(system_id)),
          (xmlChar *)(NIL_P(content)     ? NULL                        : StringValueCStr(content))
        );

  if (NULL == ptr) {
    xmlErrorPtr error = xmlGetLastError();
    if (error) {
      rb_exc_raise(Nokogiri_wrap_xml_syntax_error(error));
    } else {
      rb_raise(rb_eRuntimeError, "Could not create entity");
    }

    return Qnil;
  }

  return noko_xml_node_wrap(cNokogiriXmlEntityDecl, (xmlNodePtr)ptr);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_text_node-instance_method">
  
    #<strong>create_text_node</strong>(string, &amp;block)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a Text Node with <code>string</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 180</span>

<span class="kw">def</span> <span class="id identifier rubyid_create_text_node">create_text_node</span> <span class="id identifier rubyid_string">string</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span>
  <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Text.html" title="Nokogiri::XML::Text (class)">Text</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="Text.html#new-class_method" title="Nokogiri::XML::Text.new (method)">new</a></span></span> <span class="id identifier rubyid_string">string</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span><span class="comma">,</span> <span class="kw">self</span><span class="comma">,</span> <span class="op">&amp;</span><span class="id identifier rubyid_block">block</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="decorate-instance_method">
  
    #<strong>decorate</strong>(node)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Apply any decorators to <code>node</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


282
283
284
285
286
287
288</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 282</span>

<span class="kw">def</span> <span class="id identifier rubyid_decorate">decorate</span> <span class="id identifier rubyid_node">node</span>
  <span class="kw">return</span> <span class="kw">unless</span> <span class="ivar">@decorators</span>
  <span class="ivar">@decorators</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_klass">klass</span><span class="comma">,</span><span class="id identifier rubyid_list">list</span><span class="op">|</span>
    <span class="kw">next</span> <span class="kw">unless</span> <span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_is_a?">is_a?</span><span class="lparen">(</span><span class="id identifier rubyid_klass">klass</span><span class="rparen">)</span>
    <span class="id identifier rubyid_list">list</span><span class="period">.</span><span class="id identifier rubyid_each">each</span> <span class="lbrace">{</span> <span class="op">|</span><span class="id identifier rubyid_moodule">moodule</span><span class="op">|</span> <span class="id identifier rubyid_node">node</span><span class="period">.</span><span class="id identifier rubyid_extend">extend</span><span class="lparen">(</span><span class="id identifier rubyid_moodule">moodule</span><span class="rparen">)</span> <span class="rbrace">}</span>
  <span class="rbrace">}</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="decorators-instance_method">
  
    #<strong>decorators</strong>(key)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the list of decorators given <code>key</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


242
243
244
245</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 242</span>

<span class="kw">def</span> <span class="id identifier rubyid_decorators">decorators</span> <span class="id identifier rubyid_key">key</span>
  <span class="ivar">@decorators</span> <span class="op">||=</span> <span class="const">Hash</span><span class="period">.</span><span class="id identifier rubyid_new">new</span>
  <span class="ivar">@decorators</span><span class="lbracket">[</span><span class="id identifier rubyid_key">key</span><span class="rbracket">]</span> <span class="op">||=</span> <span class="lbracket">[</span><span class="rbracket">]</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="document-instance_method">
  
    #<strong>document</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>A reference to <code>self</code></p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 200</span>

<span class="kw">def</span> <span class="id identifier rubyid_document">document</span>
  <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dup-instance_method">
  
    #<strong>dup</strong>  ⇒ <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id="clone-instance_method">clone</span></span>
    </span>
  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Copy this Document.  An optional depth may be passed in, but it defaults to a deep copy.  0 is a shallow copy, 1 is a deep copy.</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 361</span>

static VALUE
duplicate_document(int argc, VALUE *argv, VALUE self)
{
  xmlDocPtr doc, dup;
  VALUE copy;
  VALUE level;

  if (rb_scan_args(argc, argv, "01", &amp;level) == 0) {
    level = INT2NUM((long)1);
  }

  Data_Get_Struct(self, xmlDoc, doc);

  dup = xmlCopyDoc(doc, (int)NUM2INT(level));

  if (dup == NULL) { return Qnil; }

  dup-&gt;type = doc-&gt;type;
  copy = noko_xml_document_wrap(rb_obj_class(self), dup);
  rb_iv_set(copy, "@errors", rb_iv_get(self, "@errors"));
  return copy ;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="encoding-instance_method">
  
    #<strong>encoding</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the encoding for this Document</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232
233
234
235
236
237
238</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 230</span>

static VALUE
encoding(VALUE self)
{
  xmlDocPtr doc;
  Data_Get_Struct(self, xmlDoc, doc);

  if (!doc-&gt;encoding) { return Qnil; }
  return NOKOGIRI_STR_NEW2(doc-&gt;encoding);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="encoding=-instance_method">
  
    #<strong>encoding=</strong>(encoding)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the encoding string for this Document</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


209
210
211
212
213
214
215
216
217
218
219
220
221
222</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 209</span>

static VALUE
set_encoding(VALUE self, VALUE encoding)
{
  xmlDocPtr doc;
  Data_Get_Struct(self, xmlDoc, doc);

  if (doc-&gt;encoding) {
    xmlFree(DISCARD_CONST_QUAL_XMLCHAR(doc-&gt;encoding));
  }

  doc-&gt;encoding = xmlStrdup((xmlChar *)StringValueCStr(encoding));

  return encoding;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fragment-instance_method">
  
    #<strong>fragment</strong>(tags = nil)  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Create a Nokogiri::XML::DocumentFragment from <code>tags</code> Returns an empty fragment if <code>tags</code> is nil.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


301
302
303</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 301</span>

<span class="kw">def</span> <span class="id identifier rubyid_fragment">fragment</span> <span class="id identifier rubyid_tags">tags</span> <span class="op">=</span> <span class="kw">nil</span>
  <span class="const"><span class="object_link"><a href="DocumentFragment.html" title="Nokogiri::XML::DocumentFragment (class)">DocumentFragment</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="DocumentFragment.html#new-class_method" title="Nokogiri::XML::DocumentFragment.new (method)">new</a></span></span><span class="lparen">(</span><span class="kw">self</span><span class="comma">,</span> <span class="id identifier rubyid_tags">tags</span><span class="comma">,</span> <span class="kw">self</span><span class="period">.</span><span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span><span class="rparen">)</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>The name of this document.  Always returns “document”</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 195</span>

<span class="kw">def</span> <span class="id identifier rubyid_name">name</span>
  <span class="tstring"><span class="tstring_beg">'</span><span class="tstring_content">document</span><span class="tstring_end">'</span></span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="namespaces-instance_method">
  
    #<strong>namespaces</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the hash of namespaces on the root Nokogiri::XML::Node</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 294</span>

<span class="kw">def</span> <span class="id identifier rubyid_namespaces">namespaces</span>
  <span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span> <span class="op">?</span> <span class="id identifier rubyid_root"><span class="object_link"><a href="../../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span><span class="period">.</span><span class="id identifier rubyid_namespaces">namespaces</span> <span class="op">:</span> <span class="lbrace">{</span><span class="rbrace">}</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_namespaces!-instance_method">
  
    #<strong>remove_namespaces!</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Remove all namespaces from all nodes in the document.</p>

<p>This could be useful for developers who either don't understand namespaces or don't care about them.</p>

<p>The following example shows a use case, and you can decide for yourself whether this is a good thing or not:</p>

<pre class="code"><code class=""><span class="id identifier rubyid_doc">doc</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span> <span class="heredoc_beg">&lt;&lt;-EOXML</span>
<span class="tstring_content">   &lt;root&gt;
     &lt;car xmlns:part="http://general-motors.com/"&gt;
       &lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;
     &lt;/car&gt;
     &lt;bicycle xmlns:part="http://schwinn.com/"&gt;
       &lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;
     &lt;/bicycle&gt;
   &lt;/root&gt;
</span><span class="heredoc_end">   EOXML
</span>
<span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_xpath">xpath</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">//tire</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="comment"># =&gt; ""
</span><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_xpath">xpath</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">//part:tire</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">part</span><span class="tstring_end">"</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">http://general-motors.com/</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="comment"># =&gt; "&lt;part:tire&gt;Michelin Model XGV&lt;/part:tire&gt;"
</span><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_xpath">xpath</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">//part:tire</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">part</span><span class="tstring_end">"</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">http://schwinn.com/</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="comment"># =&gt; "&lt;part:tire&gt;I'm a bicycle tire!&lt;/part:tire&gt;"
</span>
<span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_remove_namespaces!">remove_namespaces!</span>

<span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_xpath">xpath</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">//tire</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="comment"># =&gt; "&lt;tire&gt;Michelin Model XGV&lt;/tire&gt;&lt;tire&gt;I'm a bicycle tire!&lt;/tire&gt;"
</span><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_xpath">xpath</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">//part:tire</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">part</span><span class="tstring_end">"</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">http://general-motors.com/</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="comment"># =&gt; ""
</span><span class="id identifier rubyid_doc">doc</span><span class="period">.</span><span class="id identifier rubyid_xpath">xpath</span><span class="lparen">(</span><span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">//part:tire</span><span class="tstring_end">"</span></span><span class="comma">,</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">part</span><span class="tstring_end">"</span></span> <span class="op">=&gt;</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">http://schwinn.com/</span><span class="tstring_end">"</span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_to_s">to_s</span> <span class="comment"># =&gt; ""
</span></code></pre>

<p>For more information on why this probably is <strong>not</strong> a good thing in general, please direct your browser to <a href="http://tenderlovemaking.com/2009/04/23/namespaces-in-xml.html">tenderlovemaking.com/2009/04/23/namespaces-in-xml.html</a></p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


442
443
444
445
446
447
448
449
450</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 442</span>

static VALUE
remove_namespaces_bang(VALUE self)
{
  xmlDocPtr doc ;
  Data_Get_Struct(self, xmlDoc, doc);

  recursively_remove_namespaces_from_node((xmlNodePtr)doc);
  return self;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="root-instance_method">
  
    #<strong>root</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the root node for this document.</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 187</span>

static VALUE
rb_xml_document_root(VALUE self)
{
  xmlDocPtr c_document;
  xmlNodePtr c_root;

  Data_Get_Struct(self, xmlDoc, c_document);

  c_root = xmlDocGetRootElement(c_document);
  if (!c_root) {
    return Qnil;
  }

  return noko_xml_node_wrap(Qnil, c_root) ;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="root=-instance_method">
  
    #<strong>root=</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Set the root element on this document</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 143</span>

static VALUE
rb_xml_document_root_set(VALUE self, VALUE rb_new_root)
{
  xmlDocPtr c_document;
  xmlNodePtr c_new_root = NULL, c_current_root;

  Data_Get_Struct(self, xmlDoc, c_document);

  c_current_root = xmlDocGetRootElement(c_document);
  if (c_current_root) {
    xmlUnlinkNode(c_current_root);
    noko_xml_document_pin_node(c_current_root);
  }

  if (!NIL_P(rb_new_root)) {
    if (!rb_obj_is_kind_of(rb_new_root, cNokogiriXmlNode)) {
      rb_raise(rb_eArgError,
               "expected Nokogiri::XML::Node but received %"PRIsVALUE,
               rb_obj_class(rb_new_root));
    }

    Data_Get_Struct(rb_new_root, xmlNode, c_new_root);

    /* If the new root's document is not the same as the current document,
     * then we need to dup the node in to this document. */
    if (c_new_root-&gt;doc != c_document) {
      c_new_root = xmlDocCopyNode(c_new_root, c_document, 1);
      if (!c_new_root) {
        rb_raise(rb_eRuntimeError, "Could not reparent node (xmlDocCopyNode)");
      }
    }
  }

  xmlDocSetRootElement(c_document, c_new_root);

  return rb_new_root;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slop!-instance_method">
  
    #<strong>slop!</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Explore a document with shortcut methods. See Nokogiri::Slop for details.</p>

<p>Note that any nodes that have been instantiated before #slop! is called will not be decorated with sloppy behavior. So, if you're in irb, the preferred idiom is:</p>

<pre class="code ruby"><code class="ruby">irb&gt; doc = Nokogiri::Slop my_markup
</code></pre>

<p>and not</p>

<pre class="code ruby"><code class="ruby">irb&gt; doc = Nokogiri::HTML my_markup
... followed by irb's implicit inspect (and therefore instantiation of every node) ...
irb&gt; doc.slop!
... which does absolutely nothing.
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


271
272
273
274
275
276
277
278</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 271</span>

<span class="kw">def</span> <span class="id identifier rubyid_slop!">slop!</span>
  <span class="kw">unless</span> <span class="id identifier rubyid_decorators">decorators</span><span class="lparen">(</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span><span class="rparen">)</span><span class="period">.</span><span class="id identifier rubyid_include?">include?</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../Decorators.html" title="Nokogiri::Decorators (module)">Decorators</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../Decorators/Slop.html" title="Nokogiri::Decorators::Slop (module)">Slop</a></span></span>
    <span class="id identifier rubyid_decorators">decorators</span><span class="lparen">(</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="Node.html" title="Nokogiri::XML::Node (class)">Node</a></span></span><span class="rparen">)</span> <span class="op">&lt;&lt;</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../Decorators.html" title="Nokogiri::Decorators (module)">Decorators</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../Decorators/Slop.html" title="Nokogiri::Decorators::Slop (module)">Slop</a></span></span>
    <span class="id identifier rubyid_decorate!">decorate!</span>
  <span class="kw">end</span>

  <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_java-instance_method">
  
    #<strong>to_java</strong>  ⇒ <tt>Java::OrgW3cDom::Document</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class="inline">
<p>This method is only available when running JRuby.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class="inline">
<p>The class <code>Java::OrgW3cDom::Document</code> is also accessible as <code>org.w3c.dom.Document</code>.</p>
</div>
  </div>


<p>Returns the underlying Java DOM document object for the <span class="object_link"><a href="" title="Nokogiri::XML::Document (class)">Nokogiri::XML::Document</a></span>.</p>

<p>The returned Java object shares the same underlying data structure as the <span class="object_link"><a href="" title="Nokogiri::XML::Document (class)">Nokogiri::XML::Document</a></span>, so changes in one are reflected in the other.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Java::OrgW3cDom::Document</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class="object_link"><a href="#wrap-class_method" title="Nokogiri::XML::Document.wrap (method)">wrap</a></span></li>
    
  </ul>

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 99</span>

</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="url-instance_method">
  
    #<strong>url</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the url name for this document.</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129
130
131
132
133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 126</span>

static VALUE
url(VALUE self)
{
  xmlDocPtr doc;
  Data_Get_Struct(self, xmlDoc, doc);

  if (doc-&gt;URL) { return NOKOGIRI_STR_NEW2(doc-&gt;URL); }

  return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate-instance_method">
  
    #<strong>validate</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Validate this Document against it's DTD.  Returns a list of errors on the document or <code>nil</code> when there is no DTD.</p>


  </div>
</div>
<div class="tags">
  

</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nokogiri/xml/document.rb', line 250</span>

<span class="kw">def</span> <span class="id identifier rubyid_validate">validate</span>
  <span class="kw">return</span> <span class="kw">nil</span> <span class="kw">unless</span> <span class="id identifier rubyid_internal_subset">internal_subset</span>
  <span class="id identifier rubyid_internal_subset">internal_subset</span><span class="period">.</span><span class="id identifier rubyid_validate">validate</span> <span class="kw">self</span>
<span class="kw">end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="version-instance_method">
  
    #<strong>version</strong>  ⇒ <tt>Object</tt> 
  

  

  
</h3>
<div class="docstring">
  <div class="discussion">
    
<p>Get the XML version for this Document</p>


  </div>
</div>
<div class="tags">
  
  


</div>
<table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248
249
250
251
252
253
254</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/nokogiri/xml_document.c', line 246</span>

static VALUE
version(VALUE self)
{
  xmlDocPtr doc;
  Data_Get_Struct(self, xmlDoc, doc);

  if (!doc-&gt;version) { return Qnil; }
  return NOKOGIRI_STR_NEW2(doc-&gt;version);
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Aug 10 15:34:53 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.1).
</div>

    </div>
  </body>
</html>
