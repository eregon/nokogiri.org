<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Nokogiri::XML::SAX
  
    — Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css">

  <link rel="stylesheet" href="../../css/common.css" type="text/css">

<script type="text/javascript">
  pathId = "Nokogiri::XML::SAX";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


      <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1260604-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-1260604-8');
    </script>
</head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> »
    <span class="title"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span> » <span class="title"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span>
     » 
    <span class="title">SAX</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link" href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content">
<h1 id="Module%3A+Nokogiri%3A%3AXML%3A%3ASAX">Module: Nokogiri::XML::SAX
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/nokogiri/xml/sax/document.rb<span class="defines">,<br>
  lib/nokogiri/xml/sax/parser.rb,<br> lib/nokogiri/xml/sax/push_parser.rb,<br> lib/nokogiri/xml/sax/parser_context.rb,<br> ext/nokogiri/nokogiri.c</span>
</dd>
  </dl>
  
</div>

<h2 id="Overview">Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>SAX Parsers are event driven parsers. Nokogiri provides two different event based parsers when dealing with XML. If you want to do SAX style parsing using HTML, check out Nokogiri::HTML4::SAX.</p>

<p>The basic way a SAX style parser works is by creating a parser, telling the parser about the events we're interested in, then giving the parser some XML to process. The parser will notify you when it encounters events you said you would like to know about.</p>

<p>To register for events, you simply subclass Nokogiri::XML::SAX::Document, and implement the methods for which you would like notification.</p>

<p>For example, if I want to be notified when a document ends, and when an element starts, I would write a class like this:</p>

<pre class="code ruby"><code class="ruby"><span class="kw">class</span> <span class="const">MyDocument</span> <span class="op">&lt;</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">SAX</span><span class="op">::</span><span class="const"><span class="object_link"><a href="SAX/Document.html" title="Nokogiri::XML::SAX::Document (class)">Document</a></span></span>
  <span class="kw">def</span> <span class="id identifier rubyid_end_document">end_document</span>
    <span class="id identifier rubyid_puts">puts</span> <span class="tstring"><span class="tstring_beg">"</span><span class="tstring_content">the document has ended</span><span class="tstring_end">"</span></span>
  <span class="kw">end</span>

  <span class="kw">def</span> <span class="id identifier rubyid_start_element">start_element</span> <span class="id identifier rubyid_name">name</span><span class="comma">,</span> <span class="id identifier rubyid_attributes">attributes</span> <span class="op">=</span> <span class="lbracket">[</span><span class="rbracket">]</span>
    <span class="id identifier rubyid_puts">puts</span> <span class="tstring"><span class="tstring_beg">"</span><span class="embexpr_beg">#{</span><span class="id identifier rubyid_name">name</span><span class="embexpr_end">}</span><span class="tstring_content"> started</span><span class="tstring_end">"</span></span>
  <span class="kw">end</span>
<span class="kw">end</span>
</code></pre>

<p>Then I would instantiate a SAX parser with this document, and feed the parser some XML</p>

<pre class="code ruby"><code class="ruby"><span class="comment"># Create a new parser
</span><span class="id identifier rubyid_parser">parser</span> <span class="op">=</span> <span class="const"><span class="object_link"><a href="../../Nokogiri.html" title="Nokogiri (module)">Nokogiri</a></span></span><span class="op">::</span><span class="const"><span class="object_link"><a href="../XML.html" title="Nokogiri::XML (module)">XML</a></span></span><span class="op">::</span><span class="const">SAX</span><span class="op">::</span><span class="const"><span class="object_link"><a href="SAX/Parser.html" title="Nokogiri::XML::SAX::Parser (class)">Parser</a></span></span><span class="period">.</span><span class="id identifier rubyid_new"><span class="object_link"><a href="SAX/Parser.html#initialize-instance_method" title="Nokogiri::XML::SAX::Parser#initialize (method)">new</a></span></span><span class="lparen">(</span><span class="const">MyDocument</span><span class="period">.</span><span class="id identifier rubyid_new">new</span><span class="rparen">)</span>

<span class="comment"># Feed the parser some XML
</span><span class="id identifier rubyid_parser">parser</span><span class="period">.</span><span class="id identifier rubyid_parse">parse</span><span class="lparen">(</span><span class="const">File</span><span class="period">.</span><span class="id identifier rubyid_open">open</span><span class="lparen">(</span><span class="const">ARGV</span><span class="lbracket">[</span><span class="int">0</span><span class="rbracket">]</span><span class="rparen">)</span><span class="rparen">)</span>
</code></pre>

<p>Now my document handler will be called when each node starts, and when then document ends. To see what kinds of events are available, take a look at Nokogiri::XML::SAX::Document.</p>

<p>Two SAX parsers for XML are available, a parser that reads from a string or IO object as it feels necessary, and a parser that lets you spoon feed it XML. If you want to let Nokogiri deal with reading your XML, use the Nokogiri::XML::SAX::Parser. If you want to have fine grain control over the XML input, use the Nokogiri::XML::SAX::PushParser.</p>


  </div>
</div>
<div class="tags">
  

</div>
<h2 id="Defined+Under+Namespace">Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class="object_link"><a href="SAX/Document.html" title="Nokogiri::XML::SAX::Document (class)">Document</a></span>, <span class="object_link"><a href="SAX/Parser.html" title="Nokogiri::XML::SAX::Parser (class)">Parser</a></span>, <span class="object_link"><a href="SAX/ParserContext.html" title="Nokogiri::XML::SAX::ParserContext (class)">ParserContext</a></span>, <span class="object_link"><a href="SAX/PushParser.html" title="Nokogiri::XML::SAX::PushParser (class)">PushParser</a></span>
    
  
</p>









</div>

      <div id="footer">
  Generated on Tue Oct 26 16:01:31 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.2).
</div>

    </div>
  </body>
</html>
